{"version":3,"file":"584.bundle.js","mappings":"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","sources":["webpack://medieval-fighter/./node_modules/pixi.js/lib/scene/graphics/gl/GlGraphicsAdaptor.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/scene/mesh/gl/GlMeshAdaptor.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/batcher/gl/GlBatchAdaptor.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/buffer/const.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/buffer/GlBuffer.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/buffer/GlBufferSystem.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/context/GlContextSystem.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/texture/const.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/geometry/utils/getGlTypeFromFormat.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/geometry/GlGeometrySystem.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/GlBackBufferSystem.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/GlColorMaskSystem.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/GlEncoderSystem.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/GlLimitsSystem.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/GlStencilSystem.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/shader/utils/createUboElementsSTD40.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/shader/utils/generateArraySyncSTD40.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/shader/utils/createUboSyncSTD40.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/GlUboSystem.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/GlRenderTarget.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/renderTarget/GlRenderTargetAdaptor.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/renderTarget/GlRenderTargetSystem.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/shader/GlProgramData.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/shader/program/compileShader.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/shader/program/defaultValue.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/shader/program/mapType.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/shader/program/logProgramError.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/shader/GlShaderSystem.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/shader/program/generateProgram.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/shader/program/extractAttributesFromGlProgram.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/shader/program/getUniformData.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/shader/program/getUboData.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/shader/GenerateShaderSyncCode.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/shader/utils/generateUniformsSyncTypes.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/shader/GlUniformGroupSystem.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/shader/utils/generateUniformsSync.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/state/GlStateSystem.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/state/mapWebGLBlendModesToPixi.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/texture/GlTexture.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/texture/uploaders/glUploadBufferImageResource.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/texture/uploaders/glUploadCompressedTextureResource.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/texture/uploaders/glUploadImageResource.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/texture/uploaders/glUploadVideoResource.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/texture/utils/pixiToGlMaps.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/texture/utils/applyStyleParams.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/texture/GlTextureSystem.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/texture/utils/mapFormatToGlInternalFormat.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/texture/utils/mapFormatToGlType.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/texture/utils/mapFormatToGlFormat.mjs","webpack://medieval-fighter/./node_modules/pixi.js/lib/rendering/renderers/gl/WebGLRenderer.mjs"],"sourcesContent":["import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { Matrix } from '../../../maths/matrix/Matrix.mjs';\nimport { compileHighShaderGlProgram } from '../../../rendering/high-shader/compileHighShaderToProgram.mjs';\nimport { colorBitGl } from '../../../rendering/high-shader/shader-bits/colorBit.mjs';\nimport { generateTextureBatchBitGl } from '../../../rendering/high-shader/shader-bits/generateTextureBatchBit.mjs';\nimport { localUniformBitGl } from '../../../rendering/high-shader/shader-bits/localUniformBit.mjs';\nimport { roundPixelsBitGl } from '../../../rendering/high-shader/shader-bits/roundPixelsBit.mjs';\nimport { getBatchSamplersUniformGroup } from '../../../rendering/renderers/gl/shader/getBatchSamplersUniformGroup.mjs';\nimport { Shader } from '../../../rendering/renderers/shared/shader/Shader.mjs';\nimport { UniformGroup } from '../../../rendering/renderers/shared/shader/UniformGroup.mjs';\n\n\"use strict\";\nclass GlGraphicsAdaptor {\n  contextChange(renderer) {\n    const uniforms = new UniformGroup({\n      uColor: { value: new Float32Array([1, 1, 1, 1]), type: \"vec4<f32>\" },\n      uTransformMatrix: { value: new Matrix(), type: \"mat3x3<f32>\" },\n      uRound: { value: 0, type: \"f32\" }\n    });\n    const maxTextures = renderer.limits.maxBatchableTextures;\n    const glProgram = compileHighShaderGlProgram({\n      name: \"graphics\",\n      bits: [\n        colorBitGl,\n        generateTextureBatchBitGl(maxTextures),\n        localUniformBitGl,\n        roundPixelsBitGl\n      ]\n    });\n    this.shader = new Shader({\n      glProgram,\n      resources: {\n        localUniforms: uniforms,\n        batchSamplers: getBatchSamplersUniformGroup(maxTextures)\n      }\n    });\n  }\n  execute(graphicsPipe, renderable) {\n    const context = renderable.context;\n    const shader = context.customShader || this.shader;\n    const renderer = graphicsPipe.renderer;\n    const contextSystem = renderer.graphicsContext;\n    const {\n      batcher,\n      instructions\n    } = contextSystem.getContextRenderData(context);\n    shader.groups[0] = renderer.globalUniforms.bindGroup;\n    renderer.state.set(graphicsPipe.state);\n    renderer.shader.bind(shader);\n    renderer.geometry.bind(batcher.geometry, shader.glProgram);\n    const batches = instructions.instructions;\n    for (let i = 0; i < instructions.instructionSize; i++) {\n      const batch = batches[i];\n      if (batch.size) {\n        for (let j = 0; j < batch.textures.count; j++) {\n          renderer.texture.bind(batch.textures.textures[j], j);\n        }\n        renderer.geometry.draw(batch.topology, batch.size, batch.start);\n      }\n    }\n  }\n  destroy() {\n    this.shader.destroy(true);\n    this.shader = null;\n  }\n}\n/** @ignore */\nGlGraphicsAdaptor.extension = {\n  type: [\n    ExtensionType.WebGLPipesAdaptor\n  ],\n  name: \"graphics\"\n};\n\nexport { GlGraphicsAdaptor };\n//# sourceMappingURL=GlGraphicsAdaptor.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { Matrix } from '../../../maths/matrix/Matrix.mjs';\nimport { compileHighShaderGlProgram } from '../../../rendering/high-shader/compileHighShaderToProgram.mjs';\nimport { localUniformBitGl } from '../../../rendering/high-shader/shader-bits/localUniformBit.mjs';\nimport { roundPixelsBitGl } from '../../../rendering/high-shader/shader-bits/roundPixelsBit.mjs';\nimport { textureBitGl } from '../../../rendering/high-shader/shader-bits/textureBit.mjs';\nimport { Shader } from '../../../rendering/renderers/shared/shader/Shader.mjs';\nimport { Texture } from '../../../rendering/renderers/shared/texture/Texture.mjs';\nimport { warn } from '../../../utils/logging/warn.mjs';\n\n\"use strict\";\nclass GlMeshAdaptor {\n  init() {\n    const glProgram = compileHighShaderGlProgram({\n      name: \"mesh\",\n      bits: [\n        localUniformBitGl,\n        textureBitGl,\n        roundPixelsBitGl\n      ]\n    });\n    this._shader = new Shader({\n      glProgram,\n      resources: {\n        uTexture: Texture.EMPTY.source,\n        textureUniforms: {\n          uTextureMatrix: { type: \"mat3x3<f32>\", value: new Matrix() }\n        }\n      }\n    });\n  }\n  execute(meshPipe, mesh) {\n    const renderer = meshPipe.renderer;\n    let shader = mesh._shader;\n    if (!shader) {\n      shader = this._shader;\n      const texture = mesh.texture;\n      const source = texture.source;\n      shader.resources.uTexture = source;\n      shader.resources.uSampler = source.style;\n      shader.resources.textureUniforms.uniforms.uTextureMatrix = texture.textureMatrix.mapCoord;\n    } else if (!shader.glProgram) {\n      warn(\"Mesh shader has no glProgram\", mesh.shader);\n      return;\n    }\n    shader.groups[100] = renderer.globalUniforms.bindGroup;\n    shader.groups[101] = meshPipe.localUniformsBindGroup;\n    renderer.encoder.draw({\n      geometry: mesh._geometry,\n      shader,\n      state: mesh.state\n    });\n  }\n  destroy() {\n    this._shader.destroy(true);\n    this._shader = null;\n  }\n}\nGlMeshAdaptor.extension = {\n  type: [\n    ExtensionType.WebGLPipesAdaptor\n  ],\n  name: \"mesh\"\n};\n\nexport { GlMeshAdaptor };\n//# sourceMappingURL=GlMeshAdaptor.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { State } from '../../renderers/shared/state/State.mjs';\n\n\"use strict\";\nclass GlBatchAdaptor {\n  constructor() {\n    this._tempState = State.for2d();\n    /**\n     * We only want to sync the a batched shaders uniforms once on first use\n     * this is a hash of shader uids to a boolean value.  When the shader is first bound\n     * we set the value to true.  When the shader is bound again we check the value and\n     * if it is true we know that the uniforms have already been synced and we skip it.\n     */\n    this._didUploadHash = {};\n  }\n  init(batcherPipe) {\n    batcherPipe.renderer.runners.contextChange.add(this);\n  }\n  contextChange() {\n    this._didUploadHash = {};\n  }\n  start(batchPipe, geometry, shader) {\n    const renderer = batchPipe.renderer;\n    const didUpload = this._didUploadHash[shader.uid];\n    renderer.shader.bind(shader, didUpload);\n    if (!didUpload) {\n      this._didUploadHash[shader.uid] = true;\n    }\n    renderer.shader.updateUniformGroup(renderer.globalUniforms.uniformGroup);\n    renderer.geometry.bind(geometry, shader.glProgram);\n  }\n  execute(batchPipe, batch) {\n    const renderer = batchPipe.renderer;\n    this._tempState.blendMode = batch.blendMode;\n    renderer.state.set(this._tempState);\n    const textures = batch.textures.textures;\n    for (let i = 0; i < batch.textures.count; i++) {\n      renderer.texture.bind(textures[i], i);\n    }\n    renderer.geometry.draw(batch.topology, batch.size, batch.start);\n  }\n}\n/** @ignore */\nGlBatchAdaptor.extension = {\n  type: [\n    ExtensionType.WebGLPipesAdaptor\n  ],\n  name: \"batch\"\n};\n\nexport { GlBatchAdaptor };\n//# sourceMappingURL=GlBatchAdaptor.mjs.map\n","\"use strict\";\nvar BUFFER_TYPE = /* @__PURE__ */ ((BUFFER_TYPE2) => {\n  BUFFER_TYPE2[BUFFER_TYPE2[\"ELEMENT_ARRAY_BUFFER\"] = 34963] = \"ELEMENT_ARRAY_BUFFER\";\n  BUFFER_TYPE2[BUFFER_TYPE2[\"ARRAY_BUFFER\"] = 34962] = \"ARRAY_BUFFER\";\n  BUFFER_TYPE2[BUFFER_TYPE2[\"UNIFORM_BUFFER\"] = 35345] = \"UNIFORM_BUFFER\";\n  return BUFFER_TYPE2;\n})(BUFFER_TYPE || {});\n\nexport { BUFFER_TYPE };\n//# sourceMappingURL=const.mjs.map\n","\"use strict\";\nclass GlBuffer {\n  constructor(buffer, type) {\n    this._lastBindBaseLocation = -1;\n    this._lastBindCallId = -1;\n    this.buffer = buffer || null;\n    this.updateID = -1;\n    this.byteLength = -1;\n    this.type = type;\n  }\n  destroy() {\n    this.buffer = null;\n    this.updateID = -1;\n    this.byteLength = -1;\n    this.type = -1;\n    this._lastBindBaseLocation = -1;\n    this._lastBindCallId = -1;\n  }\n}\n\nexport { GlBuffer };\n//# sourceMappingURL=GlBuffer.mjs.map\n","import { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { GCManagedHash } from '../../../../utils/data/GCManagedHash.mjs';\nimport { BufferUsage } from '../../shared/buffer/const.mjs';\nimport { BUFFER_TYPE } from './const.mjs';\nimport { GlBuffer } from './GlBuffer.mjs';\n\n\"use strict\";\nclass GlBufferSystem {\n  /**\n   * @param {Renderer} renderer - The renderer this System works for.\n   */\n  constructor(renderer) {\n    /** Cache keeping track of the base bound buffer bases */\n    this._boundBufferBases = /* @__PURE__ */ Object.create(null);\n    this._minBaseLocation = 0;\n    this._nextBindBaseIndex = this._minBaseLocation;\n    this._bindCallId = 0;\n    this._renderer = renderer;\n    this._managedBuffers = new GCManagedHash({\n      renderer,\n      type: \"resource\",\n      onUnload: this.onBufferUnload.bind(this),\n      name: \"glBuffer\"\n    });\n  }\n  /** @ignore */\n  destroy() {\n    this._managedBuffers.destroy();\n    this._renderer = null;\n    this._gl = null;\n    this._boundBufferBases = {};\n  }\n  /** Sets up the renderer context and necessary buffers. */\n  contextChange() {\n    this._gl = this._renderer.gl;\n    this.destroyAll(true);\n    this._maxBindings = this._renderer.limits.maxUniformBindings;\n  }\n  getGlBuffer(buffer) {\n    buffer._gcLastUsed = this._renderer.gc.now;\n    return buffer._gpuData[this._renderer.uid] || this.createGLBuffer(buffer);\n  }\n  /**\n   * This binds specified buffer. On first run, it will create the webGL buffers for the context too\n   * @param buffer - the buffer to bind to the renderer\n   */\n  bind(buffer) {\n    const { _gl: gl } = this;\n    const glBuffer = this.getGlBuffer(buffer);\n    gl.bindBuffer(glBuffer.type, glBuffer.buffer);\n  }\n  /**\n   * Binds an uniform buffer to at the given index.\n   *\n   * A cache is used so a buffer will not be bound again if already bound.\n   * @param glBuffer - the buffer to bind\n   * @param index - the base index to bind it to.\n   */\n  bindBufferBase(glBuffer, index) {\n    const { _gl: gl } = this;\n    if (this._boundBufferBases[index] !== glBuffer) {\n      this._boundBufferBases[index] = glBuffer;\n      glBuffer._lastBindBaseLocation = index;\n      gl.bindBufferBase(gl.UNIFORM_BUFFER, index, glBuffer.buffer);\n    }\n  }\n  nextBindBase(hasTransformFeedback) {\n    this._bindCallId++;\n    this._minBaseLocation = 0;\n    if (hasTransformFeedback) {\n      this._boundBufferBases[0] = null;\n      this._minBaseLocation = 1;\n      if (this._nextBindBaseIndex < 1) {\n        this._nextBindBaseIndex = 1;\n      }\n    }\n  }\n  freeLocationForBufferBase(glBuffer) {\n    let freeIndex = this.getLastBindBaseLocation(glBuffer);\n    if (freeIndex >= this._minBaseLocation) {\n      glBuffer._lastBindCallId = this._bindCallId;\n      return freeIndex;\n    }\n    let loop = 0;\n    let nextIndex = this._nextBindBaseIndex;\n    while (loop < 2) {\n      if (nextIndex >= this._maxBindings) {\n        nextIndex = this._minBaseLocation;\n        loop++;\n      }\n      const curBuf = this._boundBufferBases[nextIndex];\n      if (curBuf && curBuf._lastBindCallId === this._bindCallId) {\n        nextIndex++;\n        continue;\n      }\n      break;\n    }\n    freeIndex = nextIndex;\n    this._nextBindBaseIndex = nextIndex + 1;\n    if (loop >= 2) {\n      return -1;\n    }\n    glBuffer._lastBindCallId = this._bindCallId;\n    this._boundBufferBases[freeIndex] = null;\n    return freeIndex;\n  }\n  getLastBindBaseLocation(glBuffer) {\n    const index = glBuffer._lastBindBaseLocation;\n    if (this._boundBufferBases[index] === glBuffer) {\n      return index;\n    }\n    return -1;\n  }\n  /**\n   * Binds a buffer whilst also binding its range.\n   * This will make the buffer start from the offset supplied rather than 0 when it is read.\n   * @param glBuffer - the buffer to bind\n   * @param index - the base index to bind at, defaults to 0\n   * @param offset - the offset to bind at (this is blocks of 256). 0 = 0, 1 = 256, 2 = 512 etc\n   * @param size - the size to bind at (this is blocks of 256).\n   */\n  bindBufferRange(glBuffer, index, offset, size) {\n    const { _gl: gl } = this;\n    offset || (offset = 0);\n    index || (index = 0);\n    this._boundBufferBases[index] = null;\n    gl.bindBufferRange(gl.UNIFORM_BUFFER, index || 0, glBuffer.buffer, offset * 256, size || 256);\n  }\n  /**\n   * Will ensure the data in the buffer is uploaded to the GPU.\n   * @param {Buffer} buffer - the buffer to update\n   */\n  updateBuffer(buffer) {\n    const { _gl: gl } = this;\n    const glBuffer = this.getGlBuffer(buffer);\n    if (buffer._updateID === glBuffer.updateID) {\n      return glBuffer;\n    }\n    glBuffer.updateID = buffer._updateID;\n    gl.bindBuffer(glBuffer.type, glBuffer.buffer);\n    const data = buffer.data;\n    const drawType = buffer.descriptor.usage & BufferUsage.STATIC ? gl.STATIC_DRAW : gl.DYNAMIC_DRAW;\n    if (data) {\n      if (glBuffer.byteLength >= data.byteLength) {\n        gl.bufferSubData(glBuffer.type, 0, data, 0, buffer._updateSize / data.BYTES_PER_ELEMENT);\n      } else {\n        glBuffer.byteLength = data.byteLength;\n        gl.bufferData(glBuffer.type, data, drawType);\n      }\n    } else {\n      glBuffer.byteLength = buffer.descriptor.size;\n      gl.bufferData(glBuffer.type, glBuffer.byteLength, drawType);\n    }\n    return glBuffer;\n  }\n  /**\n   * dispose all WebGL resources of all managed buffers\n   * @param contextLost\n   */\n  destroyAll(contextLost = false) {\n    this._managedBuffers.removeAll(contextLost);\n  }\n  onBufferUnload(buffer, contextLost = false) {\n    const glBuffer = buffer._gpuData[this._renderer.uid];\n    if (!glBuffer)\n      return;\n    if (!contextLost)\n      this._gl.deleteBuffer(glBuffer.buffer);\n  }\n  /**\n   * creates and attaches a GLBuffer object tied to the current context.\n   * @param buffer\n   * @protected\n   */\n  createGLBuffer(buffer) {\n    const { _gl: gl } = this;\n    let type = BUFFER_TYPE.ARRAY_BUFFER;\n    if (buffer.descriptor.usage & BufferUsage.INDEX) {\n      type = BUFFER_TYPE.ELEMENT_ARRAY_BUFFER;\n    } else if (buffer.descriptor.usage & BufferUsage.UNIFORM) {\n      type = BUFFER_TYPE.UNIFORM_BUFFER;\n    }\n    const glBuffer = new GlBuffer(gl.createBuffer(), type);\n    buffer._gpuData[this._renderer.uid] = glBuffer;\n    this._managedBuffers.add(buffer);\n    return glBuffer;\n  }\n  resetState() {\n    this._boundBufferBases = /* @__PURE__ */ Object.create(null);\n  }\n}\n/** @ignore */\nGlBufferSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem\n  ],\n  name: \"buffer\"\n};\n\nexport { GlBufferSystem };\n//# sourceMappingURL=GlBufferSystem.mjs.map\n","import { DOMAdapter } from '../../../../environment/adapter.mjs';\nimport { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { warn } from '../../../../utils/logging/warn.mjs';\n\n\"use strict\";\nconst _GlContextSystem = class _GlContextSystem {\n  /** @param renderer - The renderer this System works for. */\n  constructor(renderer) {\n    /**\n     * Features supported by current renderer.\n     * @type {object}\n     * @readonly\n     */\n    this.supports = {\n      /** Support for 32-bit indices buffer. */\n      uint32Indices: true,\n      /** Support for UniformBufferObjects */\n      uniformBufferObject: true,\n      /** Support for VertexArrayObjects */\n      vertexArrayObject: true,\n      /** Support for SRGB texture format */\n      srgbTextures: true,\n      /** Support for wrapping modes if a texture is non-power of two */\n      nonPowOf2wrapping: true,\n      /** Support for MSAA (antialiasing of dynamic textures) */\n      msaa: true,\n      /** Support for mipmaps if a texture is non-power of two */\n      nonPowOf2mipmaps: true\n    };\n    this._renderer = renderer;\n    this.extensions = /* @__PURE__ */ Object.create(null);\n    this.handleContextLost = this.handleContextLost.bind(this);\n    this.handleContextRestored = this.handleContextRestored.bind(this);\n  }\n  /**\n   * `true` if the context is lost\n   * @readonly\n   */\n  get isLost() {\n    return !this.gl || this.gl.isContextLost();\n  }\n  /**\n   * Handles the context change event.\n   * @param {WebGLRenderingContext} gl - New WebGL context.\n   */\n  contextChange(gl) {\n    this.gl = gl;\n    this._renderer.gl = gl;\n  }\n  init(options) {\n    options = { ..._GlContextSystem.defaultOptions, ...options };\n    let multiView = this.multiView = options.multiView;\n    if (options.context && multiView) {\n      warn(\"Renderer created with both a context and multiview enabled. Disabling multiView as both cannot work together.\");\n      multiView = false;\n    }\n    if (multiView) {\n      this.canvas = DOMAdapter.get().createCanvas(this._renderer.canvas.width, this._renderer.canvas.height);\n    } else {\n      this.canvas = this._renderer.view.canvas;\n    }\n    if (options.context) {\n      this.initFromContext(options.context);\n    } else {\n      const alpha = this._renderer.background.alpha < 1;\n      const premultipliedAlpha = options.premultipliedAlpha ?? true;\n      const antialias = options.antialias && !this._renderer.backBuffer.useBackBuffer;\n      this.createContext(options.preferWebGLVersion, {\n        alpha,\n        premultipliedAlpha,\n        antialias,\n        stencil: true,\n        preserveDrawingBuffer: options.preserveDrawingBuffer,\n        powerPreference: options.powerPreference ?? \"default\"\n      });\n    }\n  }\n  ensureCanvasSize(targetCanvas) {\n    if (!this.multiView) {\n      if (targetCanvas !== this.canvas) {\n        warn(\"multiView is disabled, but targetCanvas is not the main canvas\");\n      }\n      return;\n    }\n    const { canvas } = this;\n    if (canvas.width < targetCanvas.width || canvas.height < targetCanvas.height) {\n      canvas.width = Math.max(targetCanvas.width, targetCanvas.width);\n      canvas.height = Math.max(targetCanvas.height, targetCanvas.height);\n    }\n  }\n  /**\n   * Initializes the context.\n   * @protected\n   * @param {WebGLRenderingContext} gl - WebGL context\n   */\n  initFromContext(gl) {\n    this.gl = gl;\n    this.webGLVersion = gl instanceof DOMAdapter.get().getWebGLRenderingContext() ? 1 : 2;\n    this.getExtensions();\n    this.validateContext(gl);\n    this._renderer.runners.contextChange.emit(gl);\n    const element = this._renderer.view.canvas;\n    element.addEventListener(\"webglcontextlost\", this.handleContextLost, false);\n    element.addEventListener(\"webglcontextrestored\", this.handleContextRestored, false);\n  }\n  /**\n   * Initialize from context options\n   * @protected\n   * @see https://developer.mozilla.org/en-US/docs/Web/API/HTMLCanvasElement/getContext\n   * @param preferWebGLVersion\n   * @param {object} options - context attributes\n   */\n  createContext(preferWebGLVersion, options) {\n    let gl;\n    const canvas = this.canvas;\n    if (preferWebGLVersion === 2) {\n      gl = canvas.getContext(\"webgl2\", options);\n    }\n    if (!gl) {\n      gl = canvas.getContext(\"webgl\", options);\n      if (!gl) {\n        throw new Error(\"This browser does not support WebGL. Try using the canvas renderer\");\n      }\n    }\n    this.gl = gl;\n    this.initFromContext(this.gl);\n  }\n  /** Auto-populate the {@link GlContextSystem.extensions extensions}. */\n  getExtensions() {\n    const { gl } = this;\n    const common = {\n      anisotropicFiltering: gl.getExtension(\"EXT_texture_filter_anisotropic\"),\n      floatTextureLinear: gl.getExtension(\"OES_texture_float_linear\"),\n      s3tc: gl.getExtension(\"WEBGL_compressed_texture_s3tc\"),\n      s3tc_sRGB: gl.getExtension(\"WEBGL_compressed_texture_s3tc_srgb\"),\n      // eslint-disable-line camelcase\n      etc: gl.getExtension(\"WEBGL_compressed_texture_etc\"),\n      etc1: gl.getExtension(\"WEBGL_compressed_texture_etc1\"),\n      pvrtc: gl.getExtension(\"WEBGL_compressed_texture_pvrtc\") || gl.getExtension(\"WEBKIT_WEBGL_compressed_texture_pvrtc\"),\n      atc: gl.getExtension(\"WEBGL_compressed_texture_atc\"),\n      astc: gl.getExtension(\"WEBGL_compressed_texture_astc\"),\n      bptc: gl.getExtension(\"EXT_texture_compression_bptc\"),\n      rgtc: gl.getExtension(\"EXT_texture_compression_rgtc\"),\n      loseContext: gl.getExtension(\"WEBGL_lose_context\")\n    };\n    if (this.webGLVersion === 1) {\n      this.extensions = {\n        ...common,\n        drawBuffers: gl.getExtension(\"WEBGL_draw_buffers\"),\n        depthTexture: gl.getExtension(\"WEBGL_depth_texture\"),\n        vertexArrayObject: gl.getExtension(\"OES_vertex_array_object\") || gl.getExtension(\"MOZ_OES_vertex_array_object\") || gl.getExtension(\"WEBKIT_OES_vertex_array_object\"),\n        uint32ElementIndex: gl.getExtension(\"OES_element_index_uint\"),\n        // Floats and half-floats\n        floatTexture: gl.getExtension(\"OES_texture_float\"),\n        floatTextureLinear: gl.getExtension(\"OES_texture_float_linear\"),\n        textureHalfFloat: gl.getExtension(\"OES_texture_half_float\"),\n        textureHalfFloatLinear: gl.getExtension(\"OES_texture_half_float_linear\"),\n        vertexAttribDivisorANGLE: gl.getExtension(\"ANGLE_instanced_arrays\"),\n        srgb: gl.getExtension(\"EXT_sRGB\")\n      };\n    } else {\n      this.extensions = {\n        ...common,\n        colorBufferFloat: gl.getExtension(\"EXT_color_buffer_float\")\n      };\n      const provokeExt = gl.getExtension(\"WEBGL_provoking_vertex\");\n      if (provokeExt) {\n        provokeExt.provokingVertexWEBGL(provokeExt.FIRST_VERTEX_CONVENTION_WEBGL);\n      }\n    }\n  }\n  /**\n   * Handles a lost webgl context\n   * @param {WebGLContextEvent} event - The context lost event.\n   */\n  handleContextLost(event) {\n    event.preventDefault();\n    if (this._contextLossForced) {\n      this._contextLossForced = false;\n      setTimeout(() => {\n        if (this.gl.isContextLost()) {\n          this.extensions.loseContext?.restoreContext();\n        }\n      }, 0);\n    }\n  }\n  /** Handles a restored webgl context. */\n  handleContextRestored() {\n    this.getExtensions();\n    this._renderer.runners.contextChange.emit(this.gl);\n  }\n  destroy() {\n    const element = this._renderer.view.canvas;\n    this._renderer = null;\n    element.removeEventListener(\"webglcontextlost\", this.handleContextLost);\n    element.removeEventListener(\"webglcontextrestored\", this.handleContextRestored);\n    this.gl.useProgram(null);\n    this.extensions.loseContext?.loseContext();\n  }\n  /**\n   * this function can be called to force a webGL context loss\n   * this will release all resources on the GPU.\n   * Useful if you need to put Pixi to sleep, and save some GPU memory\n   *\n   * As soon as render is called - all resources will be created again.\n   */\n  forceContextLoss() {\n    this.extensions.loseContext?.loseContext();\n    this._contextLossForced = true;\n  }\n  /**\n   * Validate context.\n   * @param {WebGLRenderingContext} gl - Render context.\n   */\n  validateContext(gl) {\n    const attributes = gl.getContextAttributes();\n    if (attributes && !attributes.stencil) {\n      warn(\"Provided WebGL context does not have a stencil buffer, masks may not render correctly\");\n    }\n    const supports = this.supports;\n    const isWebGl2 = this.webGLVersion === 2;\n    const extensions = this.extensions;\n    supports.uint32Indices = isWebGl2 || !!extensions.uint32ElementIndex;\n    supports.uniformBufferObject = isWebGl2;\n    supports.vertexArrayObject = isWebGl2 || !!extensions.vertexArrayObject;\n    supports.srgbTextures = isWebGl2 || !!extensions.srgb;\n    supports.nonPowOf2wrapping = isWebGl2;\n    supports.nonPowOf2mipmaps = isWebGl2;\n    supports.msaa = isWebGl2;\n    if (!supports.uint32Indices) {\n      warn(\"Provided WebGL context does not support 32 index buffer, large scenes may not render correctly\");\n    }\n  }\n};\n/** @ignore */\n_GlContextSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem\n  ],\n  name: \"context\"\n};\n/** The default options for the system. */\n_GlContextSystem.defaultOptions = {\n  /**\n   * {@link WebGLOptions.context}\n   * @default null\n   */\n  context: null,\n  /**\n   * {@link WebGLOptions.premultipliedAlpha}\n   * @default true\n   */\n  premultipliedAlpha: true,\n  /**\n   * {@link WebGLOptions.preserveDrawingBuffer}\n   * @default false\n   */\n  preserveDrawingBuffer: false,\n  /**\n   * {@link WebGLOptions.powerPreference}\n   * @default default\n   */\n  powerPreference: void 0,\n  /**\n   * {@link WebGLOptions.webGLVersion}\n   * @default 2\n   */\n  preferWebGLVersion: 2,\n  /**\n   * {@link WebGLOptions.multiView}\n   * @default false\n   */\n  multiView: false\n};\nlet GlContextSystem = _GlContextSystem;\n\nexport { GlContextSystem };\n//# sourceMappingURL=GlContextSystem.mjs.map\n","\"use strict\";\nvar GL_FORMATS = /* @__PURE__ */ ((GL_FORMATS2) => {\n  GL_FORMATS2[GL_FORMATS2[\"RGBA\"] = 6408] = \"RGBA\";\n  GL_FORMATS2[GL_FORMATS2[\"RGB\"] = 6407] = \"RGB\";\n  GL_FORMATS2[GL_FORMATS2[\"RG\"] = 33319] = \"RG\";\n  GL_FORMATS2[GL_FORMATS2[\"RED\"] = 6403] = \"RED\";\n  GL_FORMATS2[GL_FORMATS2[\"RGBA_INTEGER\"] = 36249] = \"RGBA_INTEGER\";\n  GL_FORMATS2[GL_FORMATS2[\"RGB_INTEGER\"] = 36248] = \"RGB_INTEGER\";\n  GL_FORMATS2[GL_FORMATS2[\"RG_INTEGER\"] = 33320] = \"RG_INTEGER\";\n  GL_FORMATS2[GL_FORMATS2[\"RED_INTEGER\"] = 36244] = \"RED_INTEGER\";\n  GL_FORMATS2[GL_FORMATS2[\"ALPHA\"] = 6406] = \"ALPHA\";\n  GL_FORMATS2[GL_FORMATS2[\"LUMINANCE\"] = 6409] = \"LUMINANCE\";\n  GL_FORMATS2[GL_FORMATS2[\"LUMINANCE_ALPHA\"] = 6410] = \"LUMINANCE_ALPHA\";\n  GL_FORMATS2[GL_FORMATS2[\"DEPTH_COMPONENT\"] = 6402] = \"DEPTH_COMPONENT\";\n  GL_FORMATS2[GL_FORMATS2[\"DEPTH_STENCIL\"] = 34041] = \"DEPTH_STENCIL\";\n  return GL_FORMATS2;\n})(GL_FORMATS || {});\nvar GL_TARGETS = /* @__PURE__ */ ((GL_TARGETS2) => {\n  GL_TARGETS2[GL_TARGETS2[\"TEXTURE_2D\"] = 3553] = \"TEXTURE_2D\";\n  GL_TARGETS2[GL_TARGETS2[\"TEXTURE_CUBE_MAP\"] = 34067] = \"TEXTURE_CUBE_MAP\";\n  GL_TARGETS2[GL_TARGETS2[\"TEXTURE_2D_ARRAY\"] = 35866] = \"TEXTURE_2D_ARRAY\";\n  GL_TARGETS2[GL_TARGETS2[\"TEXTURE_CUBE_MAP_POSITIVE_X\"] = 34069] = \"TEXTURE_CUBE_MAP_POSITIVE_X\";\n  GL_TARGETS2[GL_TARGETS2[\"TEXTURE_CUBE_MAP_NEGATIVE_X\"] = 34070] = \"TEXTURE_CUBE_MAP_NEGATIVE_X\";\n  GL_TARGETS2[GL_TARGETS2[\"TEXTURE_CUBE_MAP_POSITIVE_Y\"] = 34071] = \"TEXTURE_CUBE_MAP_POSITIVE_Y\";\n  GL_TARGETS2[GL_TARGETS2[\"TEXTURE_CUBE_MAP_NEGATIVE_Y\"] = 34072] = \"TEXTURE_CUBE_MAP_NEGATIVE_Y\";\n  GL_TARGETS2[GL_TARGETS2[\"TEXTURE_CUBE_MAP_POSITIVE_Z\"] = 34073] = \"TEXTURE_CUBE_MAP_POSITIVE_Z\";\n  GL_TARGETS2[GL_TARGETS2[\"TEXTURE_CUBE_MAP_NEGATIVE_Z\"] = 34074] = \"TEXTURE_CUBE_MAP_NEGATIVE_Z\";\n  return GL_TARGETS2;\n})(GL_TARGETS || {});\nvar GL_WRAP_MODES = /* @__PURE__ */ ((GL_WRAP_MODES2) => {\n  GL_WRAP_MODES2[GL_WRAP_MODES2[\"CLAMP\"] = 33071] = \"CLAMP\";\n  GL_WRAP_MODES2[GL_WRAP_MODES2[\"REPEAT\"] = 10497] = \"REPEAT\";\n  GL_WRAP_MODES2[GL_WRAP_MODES2[\"MIRRORED_REPEAT\"] = 33648] = \"MIRRORED_REPEAT\";\n  return GL_WRAP_MODES2;\n})(GL_WRAP_MODES || {});\nvar GL_TYPES = /* @__PURE__ */ ((GL_TYPES2) => {\n  GL_TYPES2[GL_TYPES2[\"UNSIGNED_BYTE\"] = 5121] = \"UNSIGNED_BYTE\";\n  GL_TYPES2[GL_TYPES2[\"UNSIGNED_SHORT\"] = 5123] = \"UNSIGNED_SHORT\";\n  GL_TYPES2[GL_TYPES2[\"UNSIGNED_SHORT_5_6_5\"] = 33635] = \"UNSIGNED_SHORT_5_6_5\";\n  GL_TYPES2[GL_TYPES2[\"UNSIGNED_SHORT_4_4_4_4\"] = 32819] = \"UNSIGNED_SHORT_4_4_4_4\";\n  GL_TYPES2[GL_TYPES2[\"UNSIGNED_SHORT_5_5_5_1\"] = 32820] = \"UNSIGNED_SHORT_5_5_5_1\";\n  GL_TYPES2[GL_TYPES2[\"UNSIGNED_INT\"] = 5125] = \"UNSIGNED_INT\";\n  GL_TYPES2[GL_TYPES2[\"UNSIGNED_INT_10F_11F_11F_REV\"] = 35899] = \"UNSIGNED_INT_10F_11F_11F_REV\";\n  GL_TYPES2[GL_TYPES2[\"UNSIGNED_INT_2_10_10_10_REV\"] = 33640] = \"UNSIGNED_INT_2_10_10_10_REV\";\n  GL_TYPES2[GL_TYPES2[\"UNSIGNED_INT_24_8\"] = 34042] = \"UNSIGNED_INT_24_8\";\n  GL_TYPES2[GL_TYPES2[\"UNSIGNED_INT_5_9_9_9_REV\"] = 35902] = \"UNSIGNED_INT_5_9_9_9_REV\";\n  GL_TYPES2[GL_TYPES2[\"BYTE\"] = 5120] = \"BYTE\";\n  GL_TYPES2[GL_TYPES2[\"SHORT\"] = 5122] = \"SHORT\";\n  GL_TYPES2[GL_TYPES2[\"INT\"] = 5124] = \"INT\";\n  GL_TYPES2[GL_TYPES2[\"FLOAT\"] = 5126] = \"FLOAT\";\n  GL_TYPES2[GL_TYPES2[\"FLOAT_32_UNSIGNED_INT_24_8_REV\"] = 36269] = \"FLOAT_32_UNSIGNED_INT_24_8_REV\";\n  GL_TYPES2[GL_TYPES2[\"HALF_FLOAT\"] = 36193] = \"HALF_FLOAT\";\n  return GL_TYPES2;\n})(GL_TYPES || {});\n\nexport { GL_FORMATS, GL_TARGETS, GL_TYPES, GL_WRAP_MODES };\n//# sourceMappingURL=const.mjs.map\n","import { GL_TYPES } from '../../texture/const.mjs';\n\n\"use strict\";\nconst infoMap = {\n  uint8x2: GL_TYPES.UNSIGNED_BYTE,\n  uint8x4: GL_TYPES.UNSIGNED_BYTE,\n  sint8x2: GL_TYPES.BYTE,\n  sint8x4: GL_TYPES.BYTE,\n  unorm8x2: GL_TYPES.UNSIGNED_BYTE,\n  unorm8x4: GL_TYPES.UNSIGNED_BYTE,\n  snorm8x2: GL_TYPES.BYTE,\n  snorm8x4: GL_TYPES.BYTE,\n  uint16x2: GL_TYPES.UNSIGNED_SHORT,\n  uint16x4: GL_TYPES.UNSIGNED_SHORT,\n  sint16x2: GL_TYPES.SHORT,\n  sint16x4: GL_TYPES.SHORT,\n  unorm16x2: GL_TYPES.UNSIGNED_SHORT,\n  unorm16x4: GL_TYPES.UNSIGNED_SHORT,\n  snorm16x2: GL_TYPES.SHORT,\n  snorm16x4: GL_TYPES.SHORT,\n  float16x2: GL_TYPES.HALF_FLOAT,\n  float16x4: GL_TYPES.HALF_FLOAT,\n  float32: GL_TYPES.FLOAT,\n  float32x2: GL_TYPES.FLOAT,\n  float32x3: GL_TYPES.FLOAT,\n  float32x4: GL_TYPES.FLOAT,\n  uint32: GL_TYPES.UNSIGNED_INT,\n  uint32x2: GL_TYPES.UNSIGNED_INT,\n  uint32x3: GL_TYPES.UNSIGNED_INT,\n  uint32x4: GL_TYPES.UNSIGNED_INT,\n  sint32: GL_TYPES.INT,\n  sint32x2: GL_TYPES.INT,\n  sint32x3: GL_TYPES.INT,\n  sint32x4: GL_TYPES.INT\n};\nfunction getGlTypeFromFormat(format) {\n  return infoMap[format] ?? infoMap.float32;\n}\n\nexport { getGlTypeFromFormat };\n//# sourceMappingURL=getGlTypeFromFormat.mjs.map\n","import { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { GCManagedHash } from '../../../../utils/data/GCManagedHash.mjs';\nimport { getAttributeInfoFromFormat } from '../../shared/geometry/utils/getAttributeInfoFromFormat.mjs';\nimport { ensureAttributes } from '../shader/program/ensureAttributes.mjs';\nimport { getGlTypeFromFormat } from './utils/getGlTypeFromFormat.mjs';\n\n\"use strict\";\nconst topologyToGlMap = {\n  \"point-list\": 0,\n  \"line-list\": 1,\n  \"line-strip\": 3,\n  \"triangle-list\": 4,\n  \"triangle-strip\": 5\n};\nclass GlGeometryGpuData {\n  constructor() {\n    this.vaoCache = /* @__PURE__ */ Object.create(null);\n  }\n  destroy() {\n    this.vaoCache = /* @__PURE__ */ Object.create(null);\n  }\n}\nclass GlGeometrySystem {\n  /** @param renderer - The renderer this System works for. */\n  constructor(renderer) {\n    this._renderer = renderer;\n    this._activeGeometry = null;\n    this._activeVao = null;\n    this.hasVao = true;\n    this.hasInstance = true;\n    this._managedGeometries = new GCManagedHash({\n      renderer,\n      type: \"resource\",\n      onUnload: this.onGeometryUnload.bind(this),\n      name: \"glGeometry\"\n    });\n  }\n  /** Sets up the renderer context and necessary buffers. */\n  contextChange() {\n    const gl = this.gl = this._renderer.gl;\n    if (!this._renderer.context.supports.vertexArrayObject) {\n      throw new Error(\"[PixiJS] Vertex Array Objects are not supported on this device\");\n    }\n    this.destroyAll(true);\n    const nativeVaoExtension = this._renderer.context.extensions.vertexArrayObject;\n    if (nativeVaoExtension) {\n      gl.createVertexArray = () => nativeVaoExtension.createVertexArrayOES();\n      gl.bindVertexArray = (vao) => nativeVaoExtension.bindVertexArrayOES(vao);\n      gl.deleteVertexArray = (vao) => nativeVaoExtension.deleteVertexArrayOES(vao);\n    }\n    const nativeInstancedExtension = this._renderer.context.extensions.vertexAttribDivisorANGLE;\n    if (nativeInstancedExtension) {\n      gl.drawArraysInstanced = (a, b, c, d) => {\n        nativeInstancedExtension.drawArraysInstancedANGLE(a, b, c, d);\n      };\n      gl.drawElementsInstanced = (a, b, c, d, e) => {\n        nativeInstancedExtension.drawElementsInstancedANGLE(a, b, c, d, e);\n      };\n      gl.vertexAttribDivisor = (a, b) => nativeInstancedExtension.vertexAttribDivisorANGLE(a, b);\n    }\n    this._activeGeometry = null;\n    this._activeVao = null;\n  }\n  /**\n   * Binds geometry so that is can be drawn. Creating a Vao if required\n   * @param geometry - Instance of geometry to bind.\n   * @param program - Instance of program to use vao for.\n   */\n  bind(geometry, program) {\n    const gl = this.gl;\n    this._activeGeometry = geometry;\n    const vao = this.getVao(geometry, program);\n    if (this._activeVao !== vao) {\n      this._activeVao = vao;\n      gl.bindVertexArray(vao);\n    }\n    this.updateBuffers();\n  }\n  /** Reset and unbind any active VAO and geometry. */\n  resetState() {\n    this.unbind();\n  }\n  /** Update buffers of the currently bound geometry. */\n  updateBuffers() {\n    const geometry = this._activeGeometry;\n    const bufferSystem = this._renderer.buffer;\n    for (let i = 0; i < geometry.buffers.length; i++) {\n      const buffer = geometry.buffers[i];\n      bufferSystem.updateBuffer(buffer);\n    }\n    geometry._gcLastUsed = this._renderer.gc.now;\n  }\n  /**\n   * Check compatibility between a geometry and a program\n   * @param geometry - Geometry instance.\n   * @param program - Program instance.\n   */\n  checkCompatibility(geometry, program) {\n    const geometryAttributes = geometry.attributes;\n    const shaderAttributes = program._attributeData;\n    for (const j in shaderAttributes) {\n      if (!geometryAttributes[j]) {\n        throw new Error(`shader and geometry incompatible, geometry missing the \"${j}\" attribute`);\n      }\n    }\n  }\n  /**\n   * Takes a geometry and program and generates a unique signature for them.\n   * @param geometry - To get signature from.\n   * @param program - To test geometry against.\n   * @returns - Unique signature of the geometry and program\n   */\n  getSignature(geometry, program) {\n    const attribs = geometry.attributes;\n    const shaderAttributes = program._attributeData;\n    const strings = [\"g\", geometry.uid];\n    for (const i in attribs) {\n      if (shaderAttributes[i]) {\n        strings.push(i, shaderAttributes[i].location);\n      }\n    }\n    return strings.join(\"-\");\n  }\n  getVao(geometry, program) {\n    return geometry._gpuData[this._renderer.uid]?.vaoCache[program._key] || this.initGeometryVao(geometry, program);\n  }\n  /**\n   * Creates or gets Vao with the same structure as the geometry and stores it on the geometry.\n   * If vao is created, it is bound automatically. We use a shader to infer what and how to set up the\n   * attribute locations.\n   * @param geometry - Instance of geometry to to generate Vao for.\n   * @param program\n   * @param _incRefCount - Increment refCount of all geometry buffers.\n   */\n  initGeometryVao(geometry, program, _incRefCount = true) {\n    const gl = this._renderer.gl;\n    const bufferSystem = this._renderer.buffer;\n    this._renderer.shader._getProgramData(program);\n    this.checkCompatibility(geometry, program);\n    const signature = this.getSignature(geometry, program);\n    const gpuData = new GlGeometryGpuData();\n    geometry._gpuData[this._renderer.uid] = gpuData;\n    this._managedGeometries.add(geometry);\n    const vaoObjectHash = gpuData.vaoCache;\n    let vao = vaoObjectHash[signature];\n    if (vao) {\n      vaoObjectHash[program._key] = vao;\n      return vao;\n    }\n    ensureAttributes(geometry, program._attributeData);\n    const buffers = geometry.buffers;\n    vao = gl.createVertexArray();\n    gl.bindVertexArray(vao);\n    for (let i = 0; i < buffers.length; i++) {\n      const buffer = buffers[i];\n      bufferSystem.bind(buffer);\n    }\n    this.activateVao(geometry, program);\n    vaoObjectHash[program._key] = vao;\n    vaoObjectHash[signature] = vao;\n    gl.bindVertexArray(null);\n    return vao;\n  }\n  onGeometryUnload(geometry, contextLost = false) {\n    const gpuData = geometry._gpuData[this._renderer.uid];\n    if (!gpuData)\n      return;\n    const vaoCache = gpuData.vaoCache;\n    if (!contextLost) {\n      for (const i in vaoCache) {\n        if (this._activeVao !== vaoCache[i]) {\n          this.resetState();\n        }\n        this.gl.deleteVertexArray(vaoCache[i]);\n      }\n    }\n  }\n  /**\n   * Dispose all WebGL resources of all managed geometries.\n   * @param [contextLost=false] - If context was lost, we suppress `gl.delete` calls\n   */\n  destroyAll(contextLost = false) {\n    this._managedGeometries.removeAll(contextLost);\n  }\n  /**\n   * Activate vertex array object.\n   * @param geometry - Geometry instance.\n   * @param program - Shader program instance.\n   */\n  activateVao(geometry, program) {\n    const gl = this._renderer.gl;\n    const bufferSystem = this._renderer.buffer;\n    const attributes = geometry.attributes;\n    if (geometry.indexBuffer) {\n      bufferSystem.bind(geometry.indexBuffer);\n    }\n    let lastBuffer = null;\n    for (const j in attributes) {\n      const attribute = attributes[j];\n      const buffer = attribute.buffer;\n      const glBuffer = bufferSystem.getGlBuffer(buffer);\n      const programAttrib = program._attributeData[j];\n      if (programAttrib) {\n        if (lastBuffer !== glBuffer) {\n          bufferSystem.bind(buffer);\n          lastBuffer = glBuffer;\n        }\n        const location = programAttrib.location;\n        gl.enableVertexAttribArray(location);\n        const attributeInfo = getAttributeInfoFromFormat(attribute.format);\n        const type = getGlTypeFromFormat(attribute.format);\n        if (programAttrib.format?.substring(1, 4) === \"int\") {\n          gl.vertexAttribIPointer(\n            location,\n            attributeInfo.size,\n            type,\n            attribute.stride,\n            attribute.offset\n          );\n        } else {\n          gl.vertexAttribPointer(\n            location,\n            attributeInfo.size,\n            type,\n            attributeInfo.normalised,\n            attribute.stride,\n            attribute.offset\n          );\n        }\n        if (attribute.instance) {\n          if (this.hasInstance) {\n            const divisor = attribute.divisor ?? 1;\n            gl.vertexAttribDivisor(location, divisor);\n          } else {\n            throw new Error(\"geometry error, GPU Instancing is not supported on this device\");\n          }\n        }\n      }\n    }\n  }\n  /**\n   * Draws the currently bound geometry.\n   * @param topology - The type primitive to render.\n   * @param size - The number of elements to be rendered. If not specified, all vertices after the\n   *  starting vertex will be drawn.\n   * @param start - The starting vertex in the geometry to start drawing from. If not specified,\n   *  drawing will start from the first vertex.\n   * @param instanceCount - The number of instances of the set of elements to execute. If not specified,\n   *  all instances will be drawn.\n   * @returns This instance of the geometry system.\n   */\n  draw(topology, size, start, instanceCount) {\n    const { gl } = this._renderer;\n    const geometry = this._activeGeometry;\n    const glTopology = topologyToGlMap[topology || geometry.topology];\n    instanceCount ?? (instanceCount = geometry.instanceCount);\n    if (geometry.indexBuffer) {\n      const byteSize = geometry.indexBuffer.data.BYTES_PER_ELEMENT;\n      const glType = byteSize === 2 ? gl.UNSIGNED_SHORT : gl.UNSIGNED_INT;\n      if (instanceCount !== 1) {\n        gl.drawElementsInstanced(glTopology, size || geometry.indexBuffer.data.length, glType, (start || 0) * byteSize, instanceCount);\n      } else {\n        gl.drawElements(glTopology, size || geometry.indexBuffer.data.length, glType, (start || 0) * byteSize);\n      }\n    } else if (instanceCount !== 1) {\n      gl.drawArraysInstanced(glTopology, start || 0, size || geometry.getSize(), instanceCount);\n    } else {\n      gl.drawArrays(glTopology, start || 0, size || geometry.getSize());\n    }\n    return this;\n  }\n  /** Unbind/reset everything. */\n  unbind() {\n    this.gl.bindVertexArray(null);\n    this._activeVao = null;\n    this._activeGeometry = null;\n  }\n  destroy() {\n    this._managedGeometries.destroy();\n    this._renderer = null;\n    this.gl = null;\n    this._activeVao = null;\n    this._activeGeometry = null;\n  }\n}\n/** @ignore */\nGlGeometrySystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem\n  ],\n  name: \"geometry\"\n};\n\nexport { GlGeometryGpuData, GlGeometrySystem };\n//# sourceMappingURL=GlGeometrySystem.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { warn } from '../../../utils/logging/warn.mjs';\nimport { Geometry } from '../shared/geometry/Geometry.mjs';\nimport { Shader } from '../shared/shader/Shader.mjs';\nimport { State } from '../shared/state/State.mjs';\nimport { TextureSource } from '../shared/texture/sources/TextureSource.mjs';\nimport { Texture } from '../shared/texture/Texture.mjs';\nimport { GlProgram } from './shader/GlProgram.mjs';\n\n\"use strict\";\nconst bigTriangleGeometry = new Geometry({\n  attributes: {\n    aPosition: [\n      -1,\n      -1,\n      // Bottom left corner\n      3,\n      -1,\n      // Bottom right corner, extending beyond right edge\n      -1,\n      3\n      // Top left corner, extending beyond top edge\n    ]\n  }\n});\nconst _GlBackBufferSystem = class _GlBackBufferSystem {\n  constructor(renderer) {\n    /** if true, the back buffer is used */\n    this.useBackBuffer = false;\n    this._useBackBufferThisRender = false;\n    this._renderer = renderer;\n  }\n  init(options = {}) {\n    const { useBackBuffer, antialias } = { ..._GlBackBufferSystem.defaultOptions, ...options };\n    this.useBackBuffer = useBackBuffer;\n    this._antialias = antialias;\n    if (!this._renderer.context.supports.msaa) {\n      warn(\"antialiasing, is not supported on when using the back buffer\");\n      this._antialias = false;\n    }\n    this._state = State.for2d();\n    const bigTriangleProgram = new GlProgram({\n      vertex: `\n                attribute vec2 aPosition;\n                out vec2 vUv;\n\n                void main() {\n                    gl_Position = vec4(aPosition, 0.0, 1.0);\n\n                    vUv = (aPosition + 1.0) / 2.0;\n\n                    // flip dem UVs\n                    vUv.y = 1.0 - vUv.y;\n                }`,\n      fragment: `\n                in vec2 vUv;\n                out vec4 finalColor;\n\n                uniform sampler2D uTexture;\n\n                void main() {\n                    finalColor = texture(uTexture, vUv);\n                }`,\n      name: \"big-triangle\"\n    });\n    this._bigTriangleShader = new Shader({\n      glProgram: bigTriangleProgram,\n      resources: {\n        uTexture: Texture.WHITE.source\n      }\n    });\n  }\n  /**\n   * This is called before the RenderTargetSystem is started. This is where\n   * we replace the target with the back buffer if required.\n   * @param options - The options for this render.\n   */\n  renderStart(options) {\n    const renderTarget = this._renderer.renderTarget.getRenderTarget(options.target);\n    this._useBackBufferThisRender = this.useBackBuffer && !!renderTarget.isRoot;\n    if (this._useBackBufferThisRender) {\n      const renderTarget2 = this._renderer.renderTarget.getRenderTarget(options.target);\n      this._targetTexture = renderTarget2.colorTexture;\n      options.target = this._getBackBufferTexture(renderTarget2.colorTexture);\n    }\n  }\n  renderEnd() {\n    this._presentBackBuffer();\n  }\n  _presentBackBuffer() {\n    const renderer = this._renderer;\n    renderer.renderTarget.finishRenderPass();\n    if (!this._useBackBufferThisRender)\n      return;\n    renderer.renderTarget.bind(this._targetTexture, false);\n    this._bigTriangleShader.resources.uTexture = this._backBufferTexture.source;\n    renderer.encoder.draw({\n      geometry: bigTriangleGeometry,\n      shader: this._bigTriangleShader,\n      state: this._state\n    });\n  }\n  _getBackBufferTexture(targetSourceTexture) {\n    this._backBufferTexture = this._backBufferTexture || new Texture({\n      source: new TextureSource({\n        width: targetSourceTexture.width,\n        height: targetSourceTexture.height,\n        resolution: targetSourceTexture._resolution,\n        antialias: this._antialias\n      })\n    });\n    this._backBufferTexture.source.resize(\n      targetSourceTexture.width,\n      targetSourceTexture.height,\n      targetSourceTexture._resolution\n    );\n    return this._backBufferTexture;\n  }\n  /** destroys the back buffer */\n  destroy() {\n    if (this._backBufferTexture) {\n      this._backBufferTexture.destroy();\n      this._backBufferTexture = null;\n    }\n  }\n};\n/** @ignore */\n_GlBackBufferSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem\n  ],\n  name: \"backBuffer\",\n  priority: 1\n};\n/** default options for the back buffer system */\n_GlBackBufferSystem.defaultOptions = {\n  /** if true will use the back buffer where required */\n  useBackBuffer: false\n};\nlet GlBackBufferSystem = _GlBackBufferSystem;\n\nexport { GlBackBufferSystem };\n//# sourceMappingURL=GlBackBufferSystem.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\n\n\"use strict\";\nclass GlColorMaskSystem {\n  constructor(renderer) {\n    this._colorMaskCache = 15;\n    this._renderer = renderer;\n  }\n  setMask(colorMask) {\n    if (this._colorMaskCache === colorMask)\n      return;\n    this._colorMaskCache = colorMask;\n    this._renderer.gl.colorMask(\n      !!(colorMask & 8),\n      !!(colorMask & 4),\n      !!(colorMask & 2),\n      !!(colorMask & 1)\n    );\n  }\n}\n/** @ignore */\nGlColorMaskSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem\n  ],\n  name: \"colorMask\"\n};\n\nexport { GlColorMaskSystem };\n//# sourceMappingURL=GlColorMaskSystem.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\n\n\"use strict\";\nclass GlEncoderSystem {\n  constructor(renderer) {\n    this.commandFinished = Promise.resolve();\n    this._renderer = renderer;\n  }\n  setGeometry(geometry, shader) {\n    this._renderer.geometry.bind(geometry, shader.glProgram);\n  }\n  finishRenderPass() {\n  }\n  draw(options) {\n    const renderer = this._renderer;\n    const { geometry, shader, state, skipSync, topology: type, size, start, instanceCount } = options;\n    renderer.shader.bind(shader, skipSync);\n    renderer.geometry.bind(geometry, renderer.shader._activeProgram);\n    if (state) {\n      renderer.state.set(state);\n    }\n    renderer.geometry.draw(type, size, start, instanceCount ?? geometry.instanceCount);\n  }\n  destroy() {\n    this._renderer = null;\n  }\n}\n/** @ignore */\nGlEncoderSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem\n  ],\n  name: \"encoder\"\n};\n\nexport { GlEncoderSystem };\n//# sourceMappingURL=GlEncoderSystem.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { checkMaxIfStatementsInShader } from '../../batcher/gl/utils/checkMaxIfStatementsInShader.mjs';\n\n\"use strict\";\nclass GlLimitsSystem {\n  constructor(renderer) {\n    this._renderer = renderer;\n  }\n  contextChange() {\n    const gl = this._renderer.gl;\n    this.maxTextures = gl.getParameter(gl.MAX_TEXTURE_IMAGE_UNITS);\n    this.maxBatchableTextures = checkMaxIfStatementsInShader(this.maxTextures, gl);\n    const isWebGl2 = this._renderer.context.webGLVersion === 2;\n    this.maxUniformBindings = isWebGl2 ? gl.getParameter(gl.MAX_UNIFORM_BUFFER_BINDINGS) : 0;\n  }\n  destroy() {\n  }\n}\n/** @ignore */\nGlLimitsSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem\n  ],\n  name: \"limits\"\n};\n\nexport { GlLimitsSystem };\n//# sourceMappingURL=GlLimitsSystem.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { GpuStencilModesToPixi } from '../gpu/state/GpuStencilModesToPixi.mjs';\nimport { STENCIL_MODES } from '../shared/state/const.mjs';\n\n\"use strict\";\nclass GlStencilSystem {\n  constructor(renderer) {\n    this._stencilCache = {\n      enabled: false,\n      stencilReference: 0,\n      stencilMode: STENCIL_MODES.NONE\n    };\n    this._renderTargetStencilState = /* @__PURE__ */ Object.create(null);\n    renderer.renderTarget.onRenderTargetChange.add(this);\n  }\n  contextChange(gl) {\n    this._gl = gl;\n    this._comparisonFuncMapping = {\n      always: gl.ALWAYS,\n      never: gl.NEVER,\n      equal: gl.EQUAL,\n      \"not-equal\": gl.NOTEQUAL,\n      less: gl.LESS,\n      \"less-equal\": gl.LEQUAL,\n      greater: gl.GREATER,\n      \"greater-equal\": gl.GEQUAL\n    };\n    this._stencilOpsMapping = {\n      keep: gl.KEEP,\n      zero: gl.ZERO,\n      replace: gl.REPLACE,\n      invert: gl.INVERT,\n      \"increment-clamp\": gl.INCR,\n      \"decrement-clamp\": gl.DECR,\n      \"increment-wrap\": gl.INCR_WRAP,\n      \"decrement-wrap\": gl.DECR_WRAP\n    };\n    this.resetState();\n  }\n  onRenderTargetChange(renderTarget) {\n    if (this._activeRenderTarget === renderTarget)\n      return;\n    this._activeRenderTarget = renderTarget;\n    let stencilState = this._renderTargetStencilState[renderTarget.uid];\n    if (!stencilState) {\n      stencilState = this._renderTargetStencilState[renderTarget.uid] = {\n        stencilMode: STENCIL_MODES.DISABLED,\n        stencilReference: 0\n      };\n    }\n    this.setStencilMode(stencilState.stencilMode, stencilState.stencilReference);\n  }\n  resetState() {\n    this._stencilCache.enabled = false;\n    this._stencilCache.stencilMode = STENCIL_MODES.NONE;\n    this._stencilCache.stencilReference = 0;\n  }\n  setStencilMode(stencilMode, stencilReference) {\n    const stencilState = this._renderTargetStencilState[this._activeRenderTarget.uid];\n    const gl = this._gl;\n    const mode = GpuStencilModesToPixi[stencilMode];\n    const _stencilCache = this._stencilCache;\n    stencilState.stencilMode = stencilMode;\n    stencilState.stencilReference = stencilReference;\n    if (stencilMode === STENCIL_MODES.DISABLED) {\n      if (this._stencilCache.enabled) {\n        this._stencilCache.enabled = false;\n        gl.disable(gl.STENCIL_TEST);\n      }\n      return;\n    }\n    if (!this._stencilCache.enabled) {\n      this._stencilCache.enabled = true;\n      gl.enable(gl.STENCIL_TEST);\n    }\n    if (stencilMode !== _stencilCache.stencilMode || _stencilCache.stencilReference !== stencilReference) {\n      _stencilCache.stencilMode = stencilMode;\n      _stencilCache.stencilReference = stencilReference;\n      gl.stencilFunc(this._comparisonFuncMapping[mode.stencilBack.compare], stencilReference, 255);\n      gl.stencilOp(gl.KEEP, gl.KEEP, this._stencilOpsMapping[mode.stencilBack.passOp]);\n    }\n  }\n}\n/** @ignore */\nGlStencilSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem\n  ],\n  name: \"stencil\"\n};\n\nexport { GlStencilSystem };\n//# sourceMappingURL=GlStencilSystem.mjs.map\n","\"use strict\";\nconst WGSL_TO_STD40_SIZE = {\n  f32: 4,\n  i32: 4,\n  \"vec2<f32>\": 8,\n  \"vec3<f32>\": 12,\n  \"vec4<f32>\": 16,\n  \"vec2<i32>\": 8,\n  \"vec3<i32>\": 12,\n  \"vec4<i32>\": 16,\n  \"mat2x2<f32>\": 16 * 2,\n  \"mat3x3<f32>\": 16 * 3,\n  \"mat4x4<f32>\": 16 * 4\n  // TODO - not essential for now but support these in the future\n  // int:      4,\n  // ivec2:    8,\n  // ivec3:    12,\n  // ivec4:    16,\n  // uint:     4,\n  // uvec2:    8,\n  // uvec3:    12,\n  // uvec4:    16,\n  // bool:     4,\n  // bvec2:    8,\n  // bvec3:    12,\n  // bvec4:    16,\n  // mat2:     16 * 2,\n  // mat3:     16 * 3,\n  // mat4:     16 * 4,\n};\nfunction createUboElementsSTD40(uniformData) {\n  const uboElements = uniformData.map((data) => ({\n    data,\n    offset: 0,\n    size: 0\n  }));\n  const chunkSize = 16;\n  let size = 0;\n  let offset = 0;\n  for (let i = 0; i < uboElements.length; i++) {\n    const uboElement = uboElements[i];\n    size = WGSL_TO_STD40_SIZE[uboElement.data.type];\n    if (!size) {\n      throw new Error(`Unknown type ${uboElement.data.type}`);\n    }\n    if (uboElement.data.size > 1) {\n      size = Math.max(size, chunkSize) * uboElement.data.size;\n    }\n    const boundary = size === 12 ? 16 : size;\n    uboElement.size = size;\n    const curOffset = offset % chunkSize;\n    if (curOffset > 0 && chunkSize - curOffset < boundary) {\n      offset += (chunkSize - curOffset) % 16;\n    } else {\n      offset += (size - curOffset % size) % size;\n    }\n    uboElement.offset = offset;\n    offset += size;\n  }\n  offset = Math.ceil(offset / 16) * 16;\n  return { uboElements, size: offset };\n}\n\nexport { WGSL_TO_STD40_SIZE, createUboElementsSTD40 };\n//# sourceMappingURL=createUboElementsSTD40.mjs.map\n","import { WGSL_TO_STD40_SIZE } from './createUboElementsSTD40.mjs';\n\n\"use strict\";\nfunction generateArraySyncSTD40(uboElement, offsetToAdd) {\n  const rowSize = Math.max(WGSL_TO_STD40_SIZE[uboElement.data.type] / 16, 1);\n  const elementSize = uboElement.data.value.length / uboElement.data.size;\n  const remainder = (4 - elementSize % 4) % 4;\n  const data = uboElement.data.type.indexOf(\"i32\") >= 0 ? \"dataInt32\" : \"data\";\n  return `\n        v = uv.${uboElement.data.name};\n        offset += ${offsetToAdd};\n\n        arrayOffset = offset;\n\n        t = 0;\n\n        for(var i=0; i < ${uboElement.data.size * rowSize}; i++)\n        {\n            for(var j = 0; j < ${elementSize}; j++)\n            {\n                ${data}[arrayOffset++] = v[t++];\n            }\n            ${remainder !== 0 ? `arrayOffset += ${remainder};` : \"\"}\n        }\n    `;\n}\n\nexport { generateArraySyncSTD40 };\n//# sourceMappingURL=generateArraySyncSTD40.mjs.map\n","import { createUboSyncFunction } from '../../../shared/shader/utils/createUboSyncFunction.mjs';\nimport { uboSyncFunctionsSTD40 } from '../../../shared/shader/utils/uboSyncFunctions.mjs';\nimport { generateArraySyncSTD40 } from './generateArraySyncSTD40.mjs';\n\n\"use strict\";\nfunction createUboSyncFunctionSTD40(uboElements) {\n  return createUboSyncFunction(\n    uboElements,\n    \"uboStd40\",\n    generateArraySyncSTD40,\n    uboSyncFunctionsSTD40\n  );\n}\n\nexport { createUboSyncFunctionSTD40 };\n//# sourceMappingURL=createUboSyncSTD40.mjs.map\n","import { ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { UboSystem } from '../shared/shader/UboSystem.mjs';\nimport { createUboElementsSTD40 } from './shader/utils/createUboElementsSTD40.mjs';\nimport { createUboSyncFunctionSTD40 } from './shader/utils/createUboSyncSTD40.mjs';\n\n\"use strict\";\nclass GlUboSystem extends UboSystem {\n  constructor() {\n    super({\n      createUboElements: createUboElementsSTD40,\n      generateUboSync: createUboSyncFunctionSTD40\n    });\n  }\n}\n/** @ignore */\nGlUboSystem.extension = {\n  type: [ExtensionType.WebGLSystem],\n  name: \"ubo\"\n};\n\nexport { GlUboSystem };\n//# sourceMappingURL=GlUboSystem.mjs.map\n","\"use strict\";\nclass GlRenderTarget {\n  constructor() {\n    this.width = -1;\n    this.height = -1;\n    this.msaa = false;\n    this.msaaRenderBuffer = [];\n  }\n}\n\nexport { GlRenderTarget };\n//# sourceMappingURL=GlRenderTarget.mjs.map\n","import { Rectangle } from '../../../../maths/shapes/Rectangle.mjs';\nimport { warn } from '../../../../utils/logging/warn.mjs';\nimport { CanvasSource } from '../../shared/texture/sources/CanvasSource.mjs';\nimport { CLEAR } from '../const.mjs';\nimport { GlRenderTarget } from '../GlRenderTarget.mjs';\n\n\"use strict\";\nclass GlRenderTargetAdaptor {\n  constructor() {\n    this._clearColorCache = [0, 0, 0, 0];\n    this._viewPortCache = new Rectangle();\n  }\n  init(renderer, renderTargetSystem) {\n    this._renderer = renderer;\n    this._renderTargetSystem = renderTargetSystem;\n    renderer.runners.contextChange.add(this);\n  }\n  contextChange() {\n    this._clearColorCache = [0, 0, 0, 0];\n    this._viewPortCache = new Rectangle();\n    const gl = this._renderer.gl;\n    this._drawBuffersCache = [];\n    for (let i = 1; i <= 16; i++) {\n      this._drawBuffersCache[i] = Array.from({ length: i }, (_, j) => gl.COLOR_ATTACHMENT0 + j);\n    }\n  }\n  copyToTexture(sourceRenderSurfaceTexture, destinationTexture, originSrc, size, originDest) {\n    const renderTargetSystem = this._renderTargetSystem;\n    const renderer = this._renderer;\n    const glRenderTarget = renderTargetSystem.getGpuRenderTarget(sourceRenderSurfaceTexture);\n    const gl = renderer.gl;\n    this.finishRenderPass(sourceRenderSurfaceTexture);\n    gl.bindFramebuffer(gl.FRAMEBUFFER, glRenderTarget.resolveTargetFramebuffer);\n    renderer.texture.bind(destinationTexture, 0);\n    gl.copyTexSubImage2D(\n      gl.TEXTURE_2D,\n      0,\n      originDest.x,\n      originDest.y,\n      originSrc.x,\n      originSrc.y,\n      size.width,\n      size.height\n    );\n    return destinationTexture;\n  }\n  startRenderPass(renderTarget, clear = true, clearColor, viewport) {\n    const renderTargetSystem = this._renderTargetSystem;\n    const source = renderTarget.colorTexture;\n    const gpuRenderTarget = renderTargetSystem.getGpuRenderTarget(renderTarget);\n    let viewPortY = viewport.y;\n    if (renderTarget.isRoot) {\n      viewPortY = source.pixelHeight - viewport.height - viewport.y;\n    }\n    renderTarget.colorTextures.forEach((texture) => {\n      this._renderer.texture.unbind(texture);\n    });\n    const gl = this._renderer.gl;\n    gl.bindFramebuffer(gl.FRAMEBUFFER, gpuRenderTarget.framebuffer);\n    if (renderTarget.colorTextures.length > 1) {\n      this._setDrawBuffers(renderTarget, gl);\n    }\n    const viewPortCache = this._viewPortCache;\n    if (viewPortCache.x !== viewport.x || viewPortCache.y !== viewPortY || viewPortCache.width !== viewport.width || viewPortCache.height !== viewport.height) {\n      viewPortCache.x = viewport.x;\n      viewPortCache.y = viewPortY;\n      viewPortCache.width = viewport.width;\n      viewPortCache.height = viewport.height;\n      gl.viewport(\n        viewport.x,\n        viewPortY,\n        viewport.width,\n        viewport.height\n      );\n    }\n    if (!gpuRenderTarget.depthStencilRenderBuffer && (renderTarget.stencil || renderTarget.depth)) {\n      this._initStencil(gpuRenderTarget);\n    }\n    this.clear(renderTarget, clear, clearColor);\n  }\n  finishRenderPass(renderTarget) {\n    const renderTargetSystem = this._renderTargetSystem;\n    const glRenderTarget = renderTargetSystem.getGpuRenderTarget(renderTarget);\n    if (!glRenderTarget.msaa)\n      return;\n    const gl = this._renderer.gl;\n    gl.bindFramebuffer(gl.FRAMEBUFFER, glRenderTarget.resolveTargetFramebuffer);\n    gl.bindFramebuffer(gl.READ_FRAMEBUFFER, glRenderTarget.framebuffer);\n    gl.blitFramebuffer(\n      0,\n      0,\n      glRenderTarget.width,\n      glRenderTarget.height,\n      0,\n      0,\n      glRenderTarget.width,\n      glRenderTarget.height,\n      gl.COLOR_BUFFER_BIT,\n      gl.NEAREST\n    );\n    gl.bindFramebuffer(gl.FRAMEBUFFER, glRenderTarget.framebuffer);\n  }\n  initGpuRenderTarget(renderTarget) {\n    const renderer = this._renderer;\n    const gl = renderer.gl;\n    const glRenderTarget = new GlRenderTarget();\n    const colorTexture = renderTarget.colorTexture;\n    if (colorTexture instanceof CanvasSource) {\n      this._renderer.context.ensureCanvasSize(renderTarget.colorTexture.resource);\n      glRenderTarget.framebuffer = null;\n      return glRenderTarget;\n    }\n    this._initColor(renderTarget, glRenderTarget);\n    gl.bindFramebuffer(gl.FRAMEBUFFER, null);\n    return glRenderTarget;\n  }\n  destroyGpuRenderTarget(gpuRenderTarget) {\n    const gl = this._renderer.gl;\n    if (gpuRenderTarget.framebuffer) {\n      gl.deleteFramebuffer(gpuRenderTarget.framebuffer);\n      gpuRenderTarget.framebuffer = null;\n    }\n    if (gpuRenderTarget.resolveTargetFramebuffer) {\n      gl.deleteFramebuffer(gpuRenderTarget.resolveTargetFramebuffer);\n      gpuRenderTarget.resolveTargetFramebuffer = null;\n    }\n    if (gpuRenderTarget.depthStencilRenderBuffer) {\n      gl.deleteRenderbuffer(gpuRenderTarget.depthStencilRenderBuffer);\n      gpuRenderTarget.depthStencilRenderBuffer = null;\n    }\n    gpuRenderTarget.msaaRenderBuffer.forEach((renderBuffer) => {\n      gl.deleteRenderbuffer(renderBuffer);\n    });\n    gpuRenderTarget.msaaRenderBuffer = null;\n  }\n  clear(_renderTarget, clear, clearColor) {\n    if (!clear)\n      return;\n    const renderTargetSystem = this._renderTargetSystem;\n    if (typeof clear === \"boolean\") {\n      clear = clear ? CLEAR.ALL : CLEAR.NONE;\n    }\n    const gl = this._renderer.gl;\n    if (clear & CLEAR.COLOR) {\n      clearColor ?? (clearColor = renderTargetSystem.defaultClearColor);\n      const clearColorCache = this._clearColorCache;\n      const clearColorArray = clearColor;\n      if (clearColorCache[0] !== clearColorArray[0] || clearColorCache[1] !== clearColorArray[1] || clearColorCache[2] !== clearColorArray[2] || clearColorCache[3] !== clearColorArray[3]) {\n        clearColorCache[0] = clearColorArray[0];\n        clearColorCache[1] = clearColorArray[1];\n        clearColorCache[2] = clearColorArray[2];\n        clearColorCache[3] = clearColorArray[3];\n        gl.clearColor(clearColorArray[0], clearColorArray[1], clearColorArray[2], clearColorArray[3]);\n      }\n    }\n    gl.clear(clear);\n  }\n  resizeGpuRenderTarget(renderTarget) {\n    if (renderTarget.isRoot)\n      return;\n    const renderTargetSystem = this._renderTargetSystem;\n    const glRenderTarget = renderTargetSystem.getGpuRenderTarget(renderTarget);\n    this._resizeColor(renderTarget, glRenderTarget);\n    if (renderTarget.stencil || renderTarget.depth) {\n      this._resizeStencil(glRenderTarget);\n    }\n  }\n  _initColor(renderTarget, glRenderTarget) {\n    const renderer = this._renderer;\n    const gl = renderer.gl;\n    const resolveTargetFramebuffer = gl.createFramebuffer();\n    glRenderTarget.resolveTargetFramebuffer = resolveTargetFramebuffer;\n    gl.bindFramebuffer(gl.FRAMEBUFFER, resolveTargetFramebuffer);\n    glRenderTarget.width = renderTarget.colorTexture.source.pixelWidth;\n    glRenderTarget.height = renderTarget.colorTexture.source.pixelHeight;\n    const colorTextures = renderTarget.colorTextures;\n    colorTextures.forEach((colorTexture, i) => {\n      const source = colorTexture.source;\n      if (source.antialias) {\n        if (renderer.context.supports.msaa) {\n          glRenderTarget.msaa = true;\n        } else {\n          warn(\"[RenderTexture] Antialiasing on textures is not supported in WebGL1\");\n        }\n      }\n      renderer.texture.bindSource(source, 0);\n      const glSource = renderer.texture.getGlSource(source);\n      const glTexture = glSource.texture;\n      gl.framebufferTexture2D(\n        gl.FRAMEBUFFER,\n        gl.COLOR_ATTACHMENT0 + i,\n        3553,\n        // texture.target,\n        glTexture,\n        0\n      );\n    });\n    if (glRenderTarget.msaa) {\n      const viewFramebuffer = gl.createFramebuffer();\n      glRenderTarget.framebuffer = viewFramebuffer;\n      gl.bindFramebuffer(gl.FRAMEBUFFER, viewFramebuffer);\n      renderTarget.colorTextures.forEach((_, i) => {\n        const msaaRenderBuffer = gl.createRenderbuffer();\n        glRenderTarget.msaaRenderBuffer[i] = msaaRenderBuffer;\n      });\n    } else {\n      glRenderTarget.framebuffer = resolveTargetFramebuffer;\n    }\n    this._resizeColor(renderTarget, glRenderTarget);\n  }\n  _resizeColor(renderTarget, glRenderTarget) {\n    const source = renderTarget.colorTexture.source;\n    glRenderTarget.width = source.pixelWidth;\n    glRenderTarget.height = source.pixelHeight;\n    renderTarget.colorTextures.forEach((colorTexture, i) => {\n      if (i === 0)\n        return;\n      colorTexture.source.resize(source.width, source.height, source._resolution);\n    });\n    if (glRenderTarget.msaa) {\n      const renderer = this._renderer;\n      const gl = renderer.gl;\n      const viewFramebuffer = glRenderTarget.framebuffer;\n      gl.bindFramebuffer(gl.FRAMEBUFFER, viewFramebuffer);\n      renderTarget.colorTextures.forEach((colorTexture, i) => {\n        const source2 = colorTexture.source;\n        renderer.texture.bindSource(source2, 0);\n        const glSource = renderer.texture.getGlSource(source2);\n        const glInternalFormat = glSource.internalFormat;\n        const msaaRenderBuffer = glRenderTarget.msaaRenderBuffer[i];\n        gl.bindRenderbuffer(\n          gl.RENDERBUFFER,\n          msaaRenderBuffer\n        );\n        gl.renderbufferStorageMultisample(\n          gl.RENDERBUFFER,\n          4,\n          glInternalFormat,\n          source2.pixelWidth,\n          source2.pixelHeight\n        );\n        gl.framebufferRenderbuffer(\n          gl.FRAMEBUFFER,\n          gl.COLOR_ATTACHMENT0 + i,\n          gl.RENDERBUFFER,\n          msaaRenderBuffer\n        );\n      });\n    }\n  }\n  _initStencil(glRenderTarget) {\n    if (glRenderTarget.framebuffer === null)\n      return;\n    const gl = this._renderer.gl;\n    const depthStencilRenderBuffer = gl.createRenderbuffer();\n    glRenderTarget.depthStencilRenderBuffer = depthStencilRenderBuffer;\n    gl.bindRenderbuffer(\n      gl.RENDERBUFFER,\n      depthStencilRenderBuffer\n    );\n    gl.framebufferRenderbuffer(\n      gl.FRAMEBUFFER,\n      gl.DEPTH_STENCIL_ATTACHMENT,\n      gl.RENDERBUFFER,\n      depthStencilRenderBuffer\n    );\n    this._resizeStencil(glRenderTarget);\n  }\n  _resizeStencil(glRenderTarget) {\n    const gl = this._renderer.gl;\n    gl.bindRenderbuffer(\n      gl.RENDERBUFFER,\n      glRenderTarget.depthStencilRenderBuffer\n    );\n    if (glRenderTarget.msaa) {\n      gl.renderbufferStorageMultisample(\n        gl.RENDERBUFFER,\n        4,\n        gl.DEPTH24_STENCIL8,\n        glRenderTarget.width,\n        glRenderTarget.height\n      );\n    } else {\n      gl.renderbufferStorage(\n        gl.RENDERBUFFER,\n        this._renderer.context.webGLVersion === 2 ? gl.DEPTH24_STENCIL8 : gl.DEPTH_STENCIL,\n        glRenderTarget.width,\n        glRenderTarget.height\n      );\n    }\n  }\n  prerender(renderTarget) {\n    const resource = renderTarget.colorTexture.resource;\n    if (this._renderer.context.multiView && CanvasSource.test(resource)) {\n      this._renderer.context.ensureCanvasSize(resource);\n    }\n  }\n  postrender(renderTarget) {\n    if (!this._renderer.context.multiView)\n      return;\n    if (CanvasSource.test(renderTarget.colorTexture.resource)) {\n      const contextCanvas = this._renderer.context.canvas;\n      const canvasSource = renderTarget.colorTexture;\n      canvasSource.context2D.drawImage(\n        contextCanvas,\n        0,\n        canvasSource.pixelHeight - contextCanvas.height\n      );\n    }\n  }\n  _setDrawBuffers(renderTarget, gl) {\n    const count = renderTarget.colorTextures.length;\n    const bufferArray = this._drawBuffersCache[count];\n    if (this._renderer.context.webGLVersion === 1) {\n      const ext = this._renderer.context.extensions.drawBuffers;\n      if (!ext) {\n        warn(\"[RenderTexture] This WebGL1 context does not support rendering to multiple targets\");\n      } else {\n        ext.drawBuffersWEBGL(bufferArray);\n      }\n    } else {\n      gl.drawBuffers(bufferArray);\n    }\n  }\n}\n\nexport { GlRenderTargetAdaptor };\n//# sourceMappingURL=GlRenderTargetAdaptor.mjs.map\n","import { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { RenderTargetSystem } from '../../shared/renderTarget/RenderTargetSystem.mjs';\nimport { GlRenderTargetAdaptor } from './GlRenderTargetAdaptor.mjs';\n\n\"use strict\";\nclass GlRenderTargetSystem extends RenderTargetSystem {\n  constructor(renderer) {\n    super(renderer);\n    this.adaptor = new GlRenderTargetAdaptor();\n    this.adaptor.init(renderer, this);\n  }\n}\n/** @ignore */\nGlRenderTargetSystem.extension = {\n  type: [ExtensionType.WebGLSystem],\n  name: \"renderTarget\"\n};\n\nexport { GlRenderTargetSystem };\n//# sourceMappingURL=GlRenderTargetSystem.mjs.map\n","\"use strict\";\nclass IGLUniformData {\n}\nclass GlProgramData {\n  /**\n   * Makes a new Pixi program.\n   * @param program - webgl program\n   * @param uniformData - uniforms\n   */\n  constructor(program, uniformData) {\n    this.program = program;\n    this.uniformData = uniformData;\n    this.uniformGroups = {};\n    this.uniformDirtyGroups = {};\n    this.uniformBlockBindings = {};\n  }\n  /** Destroys this program. */\n  destroy() {\n    this.uniformData = null;\n    this.uniformGroups = null;\n    this.uniformDirtyGroups = null;\n    this.uniformBlockBindings = null;\n    this.program = null;\n  }\n}\n\nexport { GlProgramData, IGLUniformData };\n//# sourceMappingURL=GlProgramData.mjs.map\n","\"use strict\";\nfunction compileShader(gl, type, src) {\n  const shader = gl.createShader(type);\n  gl.shaderSource(shader, src);\n  gl.compileShader(shader);\n  return shader;\n}\n\nexport { compileShader };\n//# sourceMappingURL=compileShader.mjs.map\n","\"use strict\";\nfunction booleanArray(size) {\n  const array = new Array(size);\n  for (let i = 0; i < array.length; i++) {\n    array[i] = false;\n  }\n  return array;\n}\nfunction defaultValue(type, size) {\n  switch (type) {\n    case \"float\":\n      return 0;\n    case \"vec2\":\n      return new Float32Array(2 * size);\n    case \"vec3\":\n      return new Float32Array(3 * size);\n    case \"vec4\":\n      return new Float32Array(4 * size);\n    case \"int\":\n    case \"uint\":\n    case \"sampler2D\":\n    case \"sampler2DArray\":\n      return 0;\n    case \"ivec2\":\n      return new Int32Array(2 * size);\n    case \"ivec3\":\n      return new Int32Array(3 * size);\n    case \"ivec4\":\n      return new Int32Array(4 * size);\n    case \"uvec2\":\n      return new Uint32Array(2 * size);\n    case \"uvec3\":\n      return new Uint32Array(3 * size);\n    case \"uvec4\":\n      return new Uint32Array(4 * size);\n    case \"bool\":\n      return false;\n    case \"bvec2\":\n      return booleanArray(2 * size);\n    case \"bvec3\":\n      return booleanArray(3 * size);\n    case \"bvec4\":\n      return booleanArray(4 * size);\n    case \"mat2\":\n      return new Float32Array([\n        1,\n        0,\n        0,\n        1\n      ]);\n    case \"mat3\":\n      return new Float32Array([\n        1,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        1\n      ]);\n    case \"mat4\":\n      return new Float32Array([\n        1,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        1,\n        0,\n        0,\n        0,\n        0,\n        1\n      ]);\n  }\n  return null;\n}\n\nexport { defaultValue };\n//# sourceMappingURL=defaultValue.mjs.map\n","\"use strict\";\nlet GL_TABLE = null;\nconst GL_TO_GLSL_TYPES = {\n  FLOAT: \"float\",\n  FLOAT_VEC2: \"vec2\",\n  FLOAT_VEC3: \"vec3\",\n  FLOAT_VEC4: \"vec4\",\n  INT: \"int\",\n  INT_VEC2: \"ivec2\",\n  INT_VEC3: \"ivec3\",\n  INT_VEC4: \"ivec4\",\n  UNSIGNED_INT: \"uint\",\n  UNSIGNED_INT_VEC2: \"uvec2\",\n  UNSIGNED_INT_VEC3: \"uvec3\",\n  UNSIGNED_INT_VEC4: \"uvec4\",\n  BOOL: \"bool\",\n  BOOL_VEC2: \"bvec2\",\n  BOOL_VEC3: \"bvec3\",\n  BOOL_VEC4: \"bvec4\",\n  FLOAT_MAT2: \"mat2\",\n  FLOAT_MAT3: \"mat3\",\n  FLOAT_MAT4: \"mat4\",\n  SAMPLER_2D: \"sampler2D\",\n  INT_SAMPLER_2D: \"sampler2D\",\n  UNSIGNED_INT_SAMPLER_2D: \"sampler2D\",\n  SAMPLER_CUBE: \"samplerCube\",\n  INT_SAMPLER_CUBE: \"samplerCube\",\n  UNSIGNED_INT_SAMPLER_CUBE: \"samplerCube\",\n  SAMPLER_2D_ARRAY: \"sampler2DArray\",\n  INT_SAMPLER_2D_ARRAY: \"sampler2DArray\",\n  UNSIGNED_INT_SAMPLER_2D_ARRAY: \"sampler2DArray\"\n};\nconst GLSL_TO_VERTEX_TYPES = {\n  float: \"float32\",\n  vec2: \"float32x2\",\n  vec3: \"float32x3\",\n  vec4: \"float32x4\",\n  int: \"sint32\",\n  ivec2: \"sint32x2\",\n  ivec3: \"sint32x3\",\n  ivec4: \"sint32x4\",\n  uint: \"uint32\",\n  uvec2: \"uint32x2\",\n  uvec3: \"uint32x3\",\n  uvec4: \"uint32x4\",\n  bool: \"uint32\",\n  bvec2: \"uint32x2\",\n  bvec3: \"uint32x3\",\n  bvec4: \"uint32x4\"\n};\nfunction mapType(gl, type) {\n  if (!GL_TABLE) {\n    const typeNames = Object.keys(GL_TO_GLSL_TYPES);\n    GL_TABLE = {};\n    for (let i = 0; i < typeNames.length; ++i) {\n      const tn = typeNames[i];\n      GL_TABLE[gl[tn]] = GL_TO_GLSL_TYPES[tn];\n    }\n  }\n  return GL_TABLE[type];\n}\nfunction mapGlToVertexFormat(gl, type) {\n  const typeValue = mapType(gl, type);\n  return GLSL_TO_VERTEX_TYPES[typeValue] || \"float32\";\n}\n\nexport { mapGlToVertexFormat, mapType };\n//# sourceMappingURL=mapType.mjs.map\n","\"use strict\";\nfunction logPrettyShaderError(gl, shader) {\n  const shaderSrc = gl.getShaderSource(shader).split(\"\\n\").map((line, index) => `${index}: ${line}`);\n  const shaderLog = gl.getShaderInfoLog(shader);\n  const splitShader = shaderLog.split(\"\\n\");\n  const dedupe = {};\n  const lineNumbers = splitShader.map((line) => parseFloat(line.replace(/^ERROR\\: 0\\:([\\d]+)\\:.*$/, \"$1\"))).filter((n) => {\n    if (n && !dedupe[n]) {\n      dedupe[n] = true;\n      return true;\n    }\n    return false;\n  });\n  const logArgs = [\"\"];\n  lineNumbers.forEach((number) => {\n    shaderSrc[number - 1] = `%c${shaderSrc[number - 1]}%c`;\n    logArgs.push(\"background: #FF0000; color:#FFFFFF; font-size: 10px\", \"font-size: 10px\");\n  });\n  const fragmentSourceToLog = shaderSrc.join(\"\\n\");\n  logArgs[0] = fragmentSourceToLog;\n  console.error(shaderLog);\n  console.groupCollapsed(\"click to view full shader code\");\n  console.warn(...logArgs);\n  console.groupEnd();\n}\nfunction logProgramError(gl, program, vertexShader, fragmentShader) {\n  if (!gl.getProgramParameter(program, gl.LINK_STATUS)) {\n    if (!gl.getShaderParameter(vertexShader, gl.COMPILE_STATUS)) {\n      logPrettyShaderError(gl, vertexShader);\n    }\n    if (!gl.getShaderParameter(fragmentShader, gl.COMPILE_STATUS)) {\n      logPrettyShaderError(gl, fragmentShader);\n    }\n    console.error(\"PixiJS Error: Could not initialize shader.\");\n    if (gl.getProgramInfoLog(program) !== \"\") {\n      console.warn(\"PixiJS Warning: gl.getProgramInfoLog()\", gl.getProgramInfoLog(program));\n    }\n  }\n}\n\nexport { logProgramError };\n//# sourceMappingURL=logProgramError.mjs.map\n","import { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { generateShaderSyncCode } from './GenerateShaderSyncCode.mjs';\nimport { generateProgram } from './program/generateProgram.mjs';\n\n\"use strict\";\nconst defaultSyncData = {\n  textureCount: 0,\n  blockIndex: 0\n};\nclass GlShaderSystem {\n  constructor(renderer) {\n    /** @internal */\n    this._activeProgram = null;\n    this._programDataHash = /* @__PURE__ */ Object.create(null);\n    this._shaderSyncFunctions = /* @__PURE__ */ Object.create(null);\n    this._renderer = renderer;\n  }\n  contextChange(gl) {\n    this._gl = gl;\n    this._programDataHash = /* @__PURE__ */ Object.create(null);\n    this._shaderSyncFunctions = /* @__PURE__ */ Object.create(null);\n    this._activeProgram = null;\n  }\n  /**\n   * Changes the current shader to the one given in parameter.\n   * @param shader - the new shader\n   * @param skipSync - false if the shader should automatically sync its uniforms.\n   * @returns the glProgram that belongs to the shader.\n   */\n  bind(shader, skipSync) {\n    this._setProgram(shader.glProgram);\n    if (skipSync)\n      return;\n    defaultSyncData.textureCount = 0;\n    defaultSyncData.blockIndex = 0;\n    let syncFunction = this._shaderSyncFunctions[shader.glProgram._key];\n    if (!syncFunction) {\n      syncFunction = this._shaderSyncFunctions[shader.glProgram._key] = this._generateShaderSync(shader, this);\n    }\n    this._renderer.buffer.nextBindBase(!!shader.glProgram.transformFeedbackVaryings);\n    syncFunction(this._renderer, shader, defaultSyncData);\n  }\n  /**\n   * Updates the uniform group.\n   * @param uniformGroup - the uniform group to update\n   */\n  updateUniformGroup(uniformGroup) {\n    this._renderer.uniformGroup.updateUniformGroup(uniformGroup, this._activeProgram, defaultSyncData);\n  }\n  /**\n   * Binds a uniform block to the shader.\n   * @param uniformGroup - the uniform group to bind\n   * @param name - the name of the uniform block\n   * @param index - the index of the uniform block\n   */\n  bindUniformBlock(uniformGroup, name, index = 0) {\n    const bufferSystem = this._renderer.buffer;\n    const programData = this._getProgramData(this._activeProgram);\n    const isBufferResource = uniformGroup._bufferResource;\n    if (!isBufferResource) {\n      this._renderer.ubo.updateUniformGroup(uniformGroup);\n    }\n    const buffer = uniformGroup.buffer;\n    const glBuffer = bufferSystem.updateBuffer(buffer);\n    const boundLocation = bufferSystem.freeLocationForBufferBase(glBuffer);\n    if (isBufferResource) {\n      const { offset, size } = uniformGroup;\n      if (offset === 0 && size === buffer.data.byteLength) {\n        bufferSystem.bindBufferBase(glBuffer, boundLocation);\n      } else {\n        bufferSystem.bindBufferRange(glBuffer, boundLocation, offset);\n      }\n    } else if (bufferSystem.getLastBindBaseLocation(glBuffer) !== boundLocation) {\n      bufferSystem.bindBufferBase(glBuffer, boundLocation);\n    }\n    const uniformBlockIndex = this._activeProgram._uniformBlockData[name].index;\n    if (programData.uniformBlockBindings[index] === boundLocation)\n      return;\n    programData.uniformBlockBindings[index] = boundLocation;\n    this._renderer.gl.uniformBlockBinding(programData.program, uniformBlockIndex, boundLocation);\n  }\n  _setProgram(program) {\n    if (this._activeProgram === program)\n      return;\n    this._activeProgram = program;\n    const programData = this._getProgramData(program);\n    this._gl.useProgram(programData.program);\n  }\n  /**\n   * @param program - the program to get the data for\n   * @internal\n   */\n  _getProgramData(program) {\n    return this._programDataHash[program._key] || this._createProgramData(program);\n  }\n  _createProgramData(program) {\n    const key = program._key;\n    this._programDataHash[key] = generateProgram(this._gl, program);\n    return this._programDataHash[key];\n  }\n  destroy() {\n    for (const key of Object.keys(this._programDataHash)) {\n      this._programDataHash[key].destroy();\n    }\n    this._programDataHash = null;\n    this._shaderSyncFunctions = null;\n    this._activeProgram = null;\n    this._renderer = null;\n    this._gl = null;\n  }\n  /**\n   * Creates a function that can be executed that will sync the shader as efficiently as possible.\n   * Overridden by the unsafe eval package if you don't want eval used in your project.\n   * @param shader - the shader to generate the sync function for\n   * @param shaderSystem - the shader system to use\n   * @returns - the generated sync function\n   * @ignore\n   */\n  _generateShaderSync(shader, shaderSystem) {\n    return generateShaderSyncCode(shader, shaderSystem);\n  }\n  resetState() {\n    this._activeProgram = null;\n  }\n}\n/** @ignore */\nGlShaderSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem\n  ],\n  name: \"shader\"\n};\n\nexport { GlShaderSystem };\n//# sourceMappingURL=GlShaderSystem.mjs.map\n","import { warn } from '../../../../../utils/logging/warn.mjs';\nimport { GlProgramData } from '../GlProgramData.mjs';\nimport { compileShader } from './compileShader.mjs';\nimport { defaultValue } from './defaultValue.mjs';\nimport { extractAttributesFromGlProgram } from './extractAttributesFromGlProgram.mjs';\nimport { getUboData } from './getUboData.mjs';\nimport { getUniformData } from './getUniformData.mjs';\nimport { logProgramError } from './logProgramError.mjs';\n\n\"use strict\";\nfunction generateProgram(gl, program) {\n  const glVertShader = compileShader(gl, gl.VERTEX_SHADER, program.vertex);\n  const glFragShader = compileShader(gl, gl.FRAGMENT_SHADER, program.fragment);\n  const webGLProgram = gl.createProgram();\n  gl.attachShader(webGLProgram, glVertShader);\n  gl.attachShader(webGLProgram, glFragShader);\n  const transformFeedbackVaryings = program.transformFeedbackVaryings;\n  if (transformFeedbackVaryings) {\n    if (typeof gl.transformFeedbackVaryings !== \"function\") {\n      warn(`TransformFeedback is not supported but TransformFeedbackVaryings are given.`);\n    } else {\n      gl.transformFeedbackVaryings(\n        webGLProgram,\n        transformFeedbackVaryings.names,\n        transformFeedbackVaryings.bufferMode === \"separate\" ? gl.SEPARATE_ATTRIBS : gl.INTERLEAVED_ATTRIBS\n      );\n    }\n  }\n  gl.linkProgram(webGLProgram);\n  if (!gl.getProgramParameter(webGLProgram, gl.LINK_STATUS)) {\n    logProgramError(gl, webGLProgram, glVertShader, glFragShader);\n  }\n  program._attributeData = extractAttributesFromGlProgram(\n    webGLProgram,\n    gl,\n    !/^[ \\t]*#[ \\t]*version[ \\t]+300[ \\t]+es[ \\t]*$/m.test(program.vertex)\n  );\n  program._uniformData = getUniformData(webGLProgram, gl);\n  program._uniformBlockData = getUboData(webGLProgram, gl);\n  gl.deleteShader(glVertShader);\n  gl.deleteShader(glFragShader);\n  const uniformData = {};\n  for (const i in program._uniformData) {\n    const data = program._uniformData[i];\n    uniformData[i] = {\n      location: gl.getUniformLocation(webGLProgram, i),\n      value: defaultValue(data.type, data.size)\n    };\n  }\n  const glProgram = new GlProgramData(webGLProgram, uniformData);\n  return glProgram;\n}\n\nexport { generateProgram };\n//# sourceMappingURL=generateProgram.mjs.map\n","import { getAttributeInfoFromFormat } from '../../../shared/geometry/utils/getAttributeInfoFromFormat.mjs';\nimport { mapGlToVertexFormat } from './mapType.mjs';\n\n\"use strict\";\nfunction extractAttributesFromGlProgram(program, gl, sortAttributes = false) {\n  const attributes = {};\n  const totalAttributes = gl.getProgramParameter(program, gl.ACTIVE_ATTRIBUTES);\n  for (let i = 0; i < totalAttributes; i++) {\n    const attribData = gl.getActiveAttrib(program, i);\n    if (attribData.name.startsWith(\"gl_\")) {\n      continue;\n    }\n    const format = mapGlToVertexFormat(gl, attribData.type);\n    attributes[attribData.name] = {\n      location: 0,\n      // set further down..\n      format,\n      stride: getAttributeInfoFromFormat(format).stride,\n      offset: 0,\n      instance: false,\n      start: 0\n    };\n  }\n  const keys = Object.keys(attributes);\n  if (sortAttributes) {\n    keys.sort((a, b) => a > b ? 1 : -1);\n    for (let i = 0; i < keys.length; i++) {\n      attributes[keys[i]].location = i;\n      gl.bindAttribLocation(program, i, keys[i]);\n    }\n    gl.linkProgram(program);\n  } else {\n    for (let i = 0; i < keys.length; i++) {\n      attributes[keys[i]].location = gl.getAttribLocation(program, keys[i]);\n    }\n  }\n  return attributes;\n}\n\nexport { extractAttributesFromGlProgram };\n//# sourceMappingURL=extractAttributesFromGlProgram.mjs.map\n","import { defaultValue } from './defaultValue.mjs';\nimport { mapType } from './mapType.mjs';\n\n\"use strict\";\nfunction getUniformData(program, gl) {\n  const uniforms = {};\n  const totalUniforms = gl.getProgramParameter(program, gl.ACTIVE_UNIFORMS);\n  for (let i = 0; i < totalUniforms; i++) {\n    const uniformData = gl.getActiveUniform(program, i);\n    const name = uniformData.name.replace(/\\[.*?\\]$/, \"\");\n    const isArray = !!uniformData.name.match(/\\[.*?\\]$/);\n    const type = mapType(gl, uniformData.type);\n    uniforms[name] = {\n      name,\n      index: i,\n      type,\n      size: uniformData.size,\n      isArray,\n      value: defaultValue(type, uniformData.size)\n    };\n  }\n  return uniforms;\n}\n\nexport { getUniformData };\n//# sourceMappingURL=getUniformData.mjs.map\n","\"use strict\";\nfunction getUboData(program, gl) {\n  if (!gl.ACTIVE_UNIFORM_BLOCKS)\n    return {};\n  const uniformBlocks = {};\n  const totalUniformsBlocks = gl.getProgramParameter(program, gl.ACTIVE_UNIFORM_BLOCKS);\n  for (let i = 0; i < totalUniformsBlocks; i++) {\n    const name = gl.getActiveUniformBlockName(program, i);\n    const uniformBlockIndex = gl.getUniformBlockIndex(program, name);\n    const size = gl.getActiveUniformBlockParameter(program, i, gl.UNIFORM_BLOCK_DATA_SIZE);\n    uniformBlocks[name] = {\n      name,\n      index: uniformBlockIndex,\n      size\n    };\n  }\n  return uniformBlocks;\n}\n\nexport { getUboData };\n//# sourceMappingURL=getUboData.mjs.map\n","import { BufferResource } from '../../shared/buffer/BufferResource.mjs';\nimport { UniformGroup } from '../../shared/shader/UniformGroup.mjs';\nimport { TextureSource } from '../../shared/texture/sources/TextureSource.mjs';\n\n\"use strict\";\nfunction generateShaderSyncCode(shader, shaderSystem) {\n  const funcFragments = [];\n  const headerFragments = [`\n        var g = s.groups;\n        var sS = r.shader;\n        var p = s.glProgram;\n        var ugS = r.uniformGroup;\n        var resources;\n    `];\n  let addedTextreSystem = false;\n  let textureCount = 0;\n  const programData = shaderSystem._getProgramData(shader.glProgram);\n  for (const i in shader.groups) {\n    const group = shader.groups[i];\n    funcFragments.push(`\n            resources = g[${i}].resources;\n        `);\n    for (const j in group.resources) {\n      const resource = group.resources[j];\n      if (resource instanceof UniformGroup) {\n        if (resource.ubo) {\n          const resName = shader._uniformBindMap[i][Number(j)];\n          funcFragments.push(`\n                        sS.bindUniformBlock(\n                            resources[${j}],\n                            '${resName}',\n                            ${shader.glProgram._uniformBlockData[resName].index}\n                        );\n                    `);\n        } else {\n          funcFragments.push(`\n                        ugS.updateUniformGroup(resources[${j}], p, sD);\n                    `);\n        }\n      } else if (resource instanceof BufferResource) {\n        const resName = shader._uniformBindMap[i][Number(j)];\n        funcFragments.push(`\n                    sS.bindUniformBlock(\n                        resources[${j}],\n                        '${resName}',\n                        ${shader.glProgram._uniformBlockData[resName].index}\n                    );\n                `);\n      } else if (resource instanceof TextureSource) {\n        const uniformName = shader._uniformBindMap[i][j];\n        const uniformData = programData.uniformData[uniformName];\n        if (uniformData) {\n          if (!addedTextreSystem) {\n            addedTextreSystem = true;\n            headerFragments.push(`\n                        var tS = r.texture;\n                        `);\n          }\n          shaderSystem._gl.uniform1i(uniformData.location, textureCount);\n          funcFragments.push(`\n                        tS.bind(resources[${j}], ${textureCount});\n                    `);\n          textureCount++;\n        }\n      }\n    }\n  }\n  const functionSource = [...headerFragments, ...funcFragments].join(\"\\n\");\n  return new Function(\"r\", \"s\", \"sD\", functionSource);\n}\n\nexport { generateShaderSyncCode };\n//# sourceMappingURL=GenerateShaderSyncCode.mjs.map\n","\"use strict\";\nconst UNIFORM_TO_SINGLE_SETTERS = {\n  f32: `if (cv !== v) {\n            cu.value = v;\n            gl.uniform1f(location, v);\n        }`,\n  \"vec2<f32>\": `if (cv[0] !== v[0] || cv[1] !== v[1]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            gl.uniform2f(location, v[0], v[1]);\n        }`,\n  \"vec3<f32>\": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            cv[2] = v[2];\n            gl.uniform3f(location, v[0], v[1], v[2]);\n        }`,\n  \"vec4<f32>\": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            cv[2] = v[2];\n            cv[3] = v[3];\n            gl.uniform4f(location, v[0], v[1], v[2], v[3]);\n        }`,\n  i32: `if (cv !== v) {\n            cu.value = v;\n            gl.uniform1i(location, v);\n        }`,\n  \"vec2<i32>\": `if (cv[0] !== v[0] || cv[1] !== v[1]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            gl.uniform2i(location, v[0], v[1]);\n        }`,\n  \"vec3<i32>\": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            cv[2] = v[2];\n            gl.uniform3i(location, v[0], v[1], v[2]);\n        }`,\n  \"vec4<i32>\": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            cv[2] = v[2];\n            cv[3] = v[3];\n            gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n        }`,\n  u32: `if (cv !== v) {\n            cu.value = v;\n            gl.uniform1ui(location, v);\n        }`,\n  \"vec2<u32>\": `if (cv[0] !== v[0] || cv[1] !== v[1]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            gl.uniform2ui(location, v[0], v[1]);\n        }`,\n  \"vec3<u32>\": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            cv[2] = v[2];\n            gl.uniform3ui(location, v[0], v[1], v[2]);\n        }`,\n  \"vec4<u32>\": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            cv[2] = v[2];\n            cv[3] = v[3];\n            gl.uniform4ui(location, v[0], v[1], v[2], v[3]);\n        }`,\n  bool: `if (cv !== v) {\n            cu.value = v;\n            gl.uniform1i(location, v);\n        }`,\n  \"vec2<bool>\": `if (cv[0] !== v[0] || cv[1] !== v[1]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            gl.uniform2i(location, v[0], v[1]);\n        }`,\n  \"vec3<bool>\": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            cv[2] = v[2];\n            gl.uniform3i(location, v[0], v[1], v[2]);\n        }`,\n  \"vec4<bool>\": `if (cv[0] !== v[0] || cv[1] !== v[1] || cv[2] !== v[2] || cv[3] !== v[3]) {\n            cv[0] = v[0];\n            cv[1] = v[1];\n            cv[2] = v[2];\n            cv[3] = v[3];\n            gl.uniform4i(location, v[0], v[1], v[2], v[3]);\n        }`,\n  \"mat2x2<f32>\": `gl.uniformMatrix2fv(location, false, v);`,\n  \"mat3x3<f32>\": `gl.uniformMatrix3fv(location, false, v);`,\n  \"mat4x4<f32>\": `gl.uniformMatrix4fv(location, false, v);`\n};\nconst UNIFORM_TO_ARRAY_SETTERS = {\n  f32: `gl.uniform1fv(location, v);`,\n  \"vec2<f32>\": `gl.uniform2fv(location, v);`,\n  \"vec3<f32>\": `gl.uniform3fv(location, v);`,\n  \"vec4<f32>\": `gl.uniform4fv(location, v);`,\n  \"mat2x2<f32>\": `gl.uniformMatrix2fv(location, false, v);`,\n  \"mat3x3<f32>\": `gl.uniformMatrix3fv(location, false, v);`,\n  \"mat4x4<f32>\": `gl.uniformMatrix4fv(location, false, v);`,\n  i32: `gl.uniform1iv(location, v);`,\n  \"vec2<i32>\": `gl.uniform2iv(location, v);`,\n  \"vec3<i32>\": `gl.uniform3iv(location, v);`,\n  \"vec4<i32>\": `gl.uniform4iv(location, v);`,\n  u32: `gl.uniform1iv(location, v);`,\n  \"vec2<u32>\": `gl.uniform2iv(location, v);`,\n  \"vec3<u32>\": `gl.uniform3iv(location, v);`,\n  \"vec4<u32>\": `gl.uniform4iv(location, v);`,\n  bool: `gl.uniform1iv(location, v);`,\n  \"vec2<bool>\": `gl.uniform2iv(location, v);`,\n  \"vec3<bool>\": `gl.uniform3iv(location, v);`,\n  \"vec4<bool>\": `gl.uniform4iv(location, v);`\n};\n\nexport { UNIFORM_TO_ARRAY_SETTERS, UNIFORM_TO_SINGLE_SETTERS };\n//# sourceMappingURL=generateUniformsSyncTypes.mjs.map\n","import { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { generateUniformsSync } from './utils/generateUniformsSync.mjs';\n\n\"use strict\";\nclass GlUniformGroupSystem {\n  /** @param renderer - The renderer this System works for. */\n  constructor(renderer) {\n    /** Cache to holds the generated functions. Stored against UniformObjects unique signature. */\n    this._cache = {};\n    this._uniformGroupSyncHash = {};\n    this._renderer = renderer;\n    this.gl = null;\n    this._cache = {};\n  }\n  contextChange(gl) {\n    this.gl = gl;\n  }\n  /**\n   * Uploads the uniforms values to the currently bound shader.\n   * @param group - the uniforms values that be applied to the current shader\n   * @param program\n   * @param syncData\n   * @param syncData.textureCount\n   */\n  updateUniformGroup(group, program, syncData) {\n    const programData = this._renderer.shader._getProgramData(program);\n    if (!group.isStatic || group._dirtyId !== programData.uniformDirtyGroups[group.uid]) {\n      programData.uniformDirtyGroups[group.uid] = group._dirtyId;\n      const syncFunc = this._getUniformSyncFunction(group, program);\n      syncFunc(programData.uniformData, group.uniforms, this._renderer, syncData);\n    }\n  }\n  /**\n   * Overridable by the pixi.js/unsafe-eval package to use static syncUniforms instead.\n   * @param group\n   * @param program\n   */\n  _getUniformSyncFunction(group, program) {\n    return this._uniformGroupSyncHash[group._signature]?.[program._key] || this._createUniformSyncFunction(group, program);\n  }\n  _createUniformSyncFunction(group, program) {\n    const uniformGroupSyncHash = this._uniformGroupSyncHash[group._signature] || (this._uniformGroupSyncHash[group._signature] = {});\n    const id = this._getSignature(group, program._uniformData, \"u\");\n    if (!this._cache[id]) {\n      this._cache[id] = this._generateUniformsSync(group, program._uniformData);\n    }\n    uniformGroupSyncHash[program._key] = this._cache[id];\n    return uniformGroupSyncHash[program._key];\n  }\n  _generateUniformsSync(group, uniformData) {\n    return generateUniformsSync(group, uniformData);\n  }\n  /**\n   * Takes a uniform group and data and generates a unique signature for them.\n   * @param group - The uniform group to get signature of\n   * @param group.uniforms\n   * @param uniformData - Uniform information generated by the shader\n   * @param preFix\n   * @returns Unique signature of the uniform group\n   */\n  _getSignature(group, uniformData, preFix) {\n    const uniforms = group.uniforms;\n    const strings = [`${preFix}-`];\n    for (const i in uniforms) {\n      strings.push(i);\n      if (uniformData[i]) {\n        strings.push(uniformData[i].type);\n      }\n    }\n    return strings.join(\"-\");\n  }\n  /** Destroys this System and removes all its textures. */\n  destroy() {\n    this._renderer = null;\n    this._cache = null;\n  }\n}\n/** @ignore */\nGlUniformGroupSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem\n  ],\n  name: \"uniformGroup\"\n};\n\nexport { GlUniformGroupSystem };\n//# sourceMappingURL=GlUniformGroupSystem.mjs.map\n","import { BufferResource } from '../../../shared/buffer/BufferResource.mjs';\nimport { UniformGroup } from '../../../shared/shader/UniformGroup.mjs';\nimport { uniformParsers } from '../../../shared/shader/utils/uniformParsers.mjs';\nimport { UNIFORM_TO_SINGLE_SETTERS, UNIFORM_TO_ARRAY_SETTERS } from './generateUniformsSyncTypes.mjs';\n\n\"use strict\";\nfunction generateUniformsSync(group, uniformData) {\n  const funcFragments = [`\n        var v = null;\n        var cv = null;\n        var cu = null;\n        var t = 0;\n        var gl = renderer.gl;\n        var name = null;\n    `];\n  for (const i in group.uniforms) {\n    if (!uniformData[i]) {\n      if (group.uniforms[i] instanceof UniformGroup) {\n        if (group.uniforms[i].ubo) {\n          funcFragments.push(`\n                        renderer.shader.bindUniformBlock(uv.${i}, \"${i}\");\n                    `);\n        } else {\n          funcFragments.push(`\n                        renderer.shader.updateUniformGroup(uv.${i});\n                    `);\n        }\n      } else if (group.uniforms[i] instanceof BufferResource) {\n        funcFragments.push(`\n                        renderer.shader.bindBufferResource(uv.${i}, \"${i}\");\n                    `);\n      }\n      continue;\n    }\n    const uniform = group.uniformStructures[i];\n    let parsed = false;\n    for (let j = 0; j < uniformParsers.length; j++) {\n      const parser = uniformParsers[j];\n      if (uniform.type === parser.type && parser.test(uniform)) {\n        funcFragments.push(`name = \"${i}\";`, uniformParsers[j].uniform);\n        parsed = true;\n        break;\n      }\n    }\n    if (!parsed) {\n      const templateType = uniform.size === 1 ? UNIFORM_TO_SINGLE_SETTERS : UNIFORM_TO_ARRAY_SETTERS;\n      const template = templateType[uniform.type].replace(\"location\", `ud[\"${i}\"].location`);\n      funcFragments.push(`\n            cu = ud[\"${i}\"];\n            cv = cu.value;\n            v = uv[\"${i}\"];\n            ${template};`);\n    }\n  }\n  return new Function(\"ud\", \"uv\", \"renderer\", \"syncData\", funcFragments.join(\"\\n\"));\n}\n\nexport { generateUniformsSync };\n//# sourceMappingURL=generateUniformsSync.mjs.map\n","import { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { State } from '../../shared/state/State.mjs';\nimport { mapWebGLBlendModesToPixi } from './mapWebGLBlendModesToPixi.mjs';\n\n\"use strict\";\nconst BLEND = 0;\nconst OFFSET = 1;\nconst CULLING = 2;\nconst DEPTH_TEST = 3;\nconst WINDING = 4;\nconst DEPTH_MASK = 5;\nconst _GlStateSystem = class _GlStateSystem {\n  constructor(renderer) {\n    /**\n     * Whether to invert the front face when rendering\n     * This is used for render textures where the Y-coordinate is flipped\n     * @default false\n     */\n    this._invertFrontFace = false;\n    this.gl = null;\n    this.stateId = 0;\n    this.polygonOffset = 0;\n    this.blendMode = \"none\";\n    this._blendEq = false;\n    this.map = [];\n    this.map[BLEND] = this.setBlend;\n    this.map[OFFSET] = this.setOffset;\n    this.map[CULLING] = this.setCullFace;\n    this.map[DEPTH_TEST] = this.setDepthTest;\n    this.map[WINDING] = this.setFrontFace;\n    this.map[DEPTH_MASK] = this.setDepthMask;\n    this.checks = [];\n    this.defaultState = State.for2d();\n    renderer.renderTarget.onRenderTargetChange.add(this);\n  }\n  onRenderTargetChange(renderTarget) {\n    this._invertFrontFace = !renderTarget.isRoot;\n    if (this._cullFace) {\n      this.setFrontFace(this._frontFace);\n    } else {\n      this._frontFaceDirty = true;\n    }\n  }\n  contextChange(gl) {\n    this.gl = gl;\n    this.blendModesMap = mapWebGLBlendModesToPixi(gl);\n    this.resetState();\n  }\n  /**\n   * Sets the current state\n   * @param {*} state - The state to set.\n   */\n  set(state) {\n    state || (state = this.defaultState);\n    if (this.stateId !== state.data) {\n      let diff = this.stateId ^ state.data;\n      let i = 0;\n      while (diff) {\n        if (diff & 1) {\n          this.map[i].call(this, !!(state.data & 1 << i));\n        }\n        diff >>= 1;\n        i++;\n      }\n      this.stateId = state.data;\n    }\n    for (let i = 0; i < this.checks.length; i++) {\n      this.checks[i](this, state);\n    }\n  }\n  /**\n   * Sets the state, when previous state is unknown.\n   * @param {*} state - The state to set\n   */\n  forceState(state) {\n    state || (state = this.defaultState);\n    for (let i = 0; i < this.map.length; i++) {\n      this.map[i].call(this, !!(state.data & 1 << i));\n    }\n    for (let i = 0; i < this.checks.length; i++) {\n      this.checks[i](this, state);\n    }\n    this.stateId = state.data;\n  }\n  /**\n   * Sets whether to enable or disable blending.\n   * @param value - Turn on or off WebGl blending.\n   */\n  setBlend(value) {\n    this._updateCheck(_GlStateSystem._checkBlendMode, value);\n    this.gl[value ? \"enable\" : \"disable\"](this.gl.BLEND);\n  }\n  /**\n   * Sets whether to enable or disable polygon offset fill.\n   * @param value - Turn on or off webgl polygon offset testing.\n   */\n  setOffset(value) {\n    this._updateCheck(_GlStateSystem._checkPolygonOffset, value);\n    this.gl[value ? \"enable\" : \"disable\"](this.gl.POLYGON_OFFSET_FILL);\n  }\n  /**\n   * Sets whether to enable or disable depth test.\n   * @param value - Turn on or off webgl depth testing.\n   */\n  setDepthTest(value) {\n    this.gl[value ? \"enable\" : \"disable\"](this.gl.DEPTH_TEST);\n  }\n  /**\n   * Sets whether to enable or disable depth mask.\n   * @param value - Turn on or off webgl depth mask.\n   */\n  setDepthMask(value) {\n    this.gl.depthMask(value);\n  }\n  /**\n   * Sets whether to enable or disable cull face.\n   * @param {boolean} value - Turn on or off webgl cull face.\n   */\n  setCullFace(value) {\n    this._cullFace = value;\n    this.gl[value ? \"enable\" : \"disable\"](this.gl.CULL_FACE);\n    if (this._cullFace && this._frontFaceDirty) {\n      this.setFrontFace(this._frontFace);\n    }\n  }\n  /**\n   * Sets the gl front face.\n   * @param {boolean} value - true is clockwise and false is counter-clockwise\n   */\n  setFrontFace(value) {\n    this._frontFace = value;\n    this._frontFaceDirty = false;\n    const faceMode = this._invertFrontFace ? !value : value;\n    if (this._glFrontFace !== faceMode) {\n      this._glFrontFace = faceMode;\n      this.gl.frontFace(this.gl[faceMode ? \"CW\" : \"CCW\"]);\n    }\n  }\n  /**\n   * Sets the blend mode.\n   * @param {number} value - The blend mode to set to.\n   */\n  setBlendMode(value) {\n    if (!this.blendModesMap[value]) {\n      value = \"normal\";\n    }\n    if (value === this.blendMode) {\n      return;\n    }\n    this.blendMode = value;\n    const mode = this.blendModesMap[value];\n    const gl = this.gl;\n    if (mode.length === 2) {\n      gl.blendFunc(mode[0], mode[1]);\n    } else {\n      gl.blendFuncSeparate(mode[0], mode[1], mode[2], mode[3]);\n    }\n    if (mode.length === 6) {\n      this._blendEq = true;\n      gl.blendEquationSeparate(mode[4], mode[5]);\n    } else if (this._blendEq) {\n      this._blendEq = false;\n      gl.blendEquationSeparate(gl.FUNC_ADD, gl.FUNC_ADD);\n    }\n  }\n  /**\n   * Sets the polygon offset.\n   * @param {number} value - the polygon offset\n   * @param {number} scale - the polygon offset scale\n   */\n  setPolygonOffset(value, scale) {\n    this.gl.polygonOffset(value, scale);\n  }\n  /** Resets all the logic and disables the VAOs. */\n  resetState() {\n    this._glFrontFace = false;\n    this._frontFace = false;\n    this._cullFace = false;\n    this._frontFaceDirty = false;\n    this._invertFrontFace = false;\n    this.gl.frontFace(this.gl.CCW);\n    this.gl.pixelStorei(this.gl.UNPACK_FLIP_Y_WEBGL, false);\n    this.forceState(this.defaultState);\n    this._blendEq = true;\n    this.blendMode = \"\";\n    this.setBlendMode(\"normal\");\n  }\n  /**\n   * Checks to see which updates should be checked based on which settings have been activated.\n   *\n   * For example, if blend is enabled then we should check the blend modes each time the state is changed\n   * or if polygon fill is activated then we need to check if the polygon offset changes.\n   * The idea is that we only check what we have too.\n   * @param func - the checking function to add or remove\n   * @param value - should the check function be added or removed.\n   */\n  _updateCheck(func, value) {\n    const index = this.checks.indexOf(func);\n    if (value && index === -1) {\n      this.checks.push(func);\n    } else if (!value && index !== -1) {\n      this.checks.splice(index, 1);\n    }\n  }\n  /**\n   * A private little wrapper function that we call to check the blend mode.\n   * @param system - the System to perform the state check on\n   * @param state - the state that the blendMode will pulled from\n   */\n  static _checkBlendMode(system, state) {\n    system.setBlendMode(state.blendMode);\n  }\n  /**\n   * A private little wrapper function that we call to check the polygon offset.\n   * @param system - the System to perform the state check on\n   * @param state - the state that the blendMode will pulled from\n   */\n  static _checkPolygonOffset(system, state) {\n    system.setPolygonOffset(1, state.polygonOffset);\n  }\n  /** @ignore */\n  destroy() {\n    this.gl = null;\n    this.checks.length = 0;\n  }\n};\n/** @ignore */\n_GlStateSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem\n  ],\n  name: \"state\"\n};\nlet GlStateSystem = _GlStateSystem;\n\nexport { GlStateSystem };\n//# sourceMappingURL=GlStateSystem.mjs.map\n","import { DOMAdapter } from '../../../../environment/adapter.mjs';\n\n\"use strict\";\nfunction mapWebGLBlendModesToPixi(gl) {\n  const blendMap = {};\n  blendMap.normal = [gl.ONE, gl.ONE_MINUS_SRC_ALPHA];\n  blendMap.add = [gl.ONE, gl.ONE];\n  blendMap.multiply = [gl.DST_COLOR, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA];\n  blendMap.screen = [gl.ONE, gl.ONE_MINUS_SRC_COLOR, gl.ONE, gl.ONE_MINUS_SRC_ALPHA];\n  blendMap.none = [0, 0];\n  blendMap[\"normal-npm\"] = [gl.SRC_ALPHA, gl.ONE_MINUS_SRC_ALPHA, gl.ONE, gl.ONE_MINUS_SRC_ALPHA];\n  blendMap[\"add-npm\"] = [gl.SRC_ALPHA, gl.ONE, gl.ONE, gl.ONE];\n  blendMap[\"screen-npm\"] = [gl.SRC_ALPHA, gl.ONE_MINUS_SRC_COLOR, gl.ONE, gl.ONE_MINUS_SRC_ALPHA];\n  blendMap.erase = [gl.ZERO, gl.ONE_MINUS_SRC_ALPHA];\n  const isWebGl2 = !(gl instanceof DOMAdapter.get().getWebGLRenderingContext());\n  if (isWebGl2) {\n    blendMap.min = [gl.ONE, gl.ONE, gl.ONE, gl.ONE, gl.MIN, gl.MIN];\n    blendMap.max = [gl.ONE, gl.ONE, gl.ONE, gl.ONE, gl.MAX, gl.MAX];\n  } else {\n    const ext = gl.getExtension(\"EXT_blend_minmax\");\n    if (ext) {\n      blendMap.min = [gl.ONE, gl.ONE, gl.ONE, gl.ONE, ext.MIN_EXT, ext.MIN_EXT];\n      blendMap.max = [gl.ONE, gl.ONE, gl.ONE, gl.ONE, ext.MAX_EXT, ext.MAX_EXT];\n    }\n  }\n  return blendMap;\n}\n\nexport { mapWebGLBlendModesToPixi };\n//# sourceMappingURL=mapWebGLBlendModesToPixi.mjs.map\n","import { GL_TARGETS, GL_TYPES, GL_FORMATS } from './const.mjs';\n\n\"use strict\";\nclass GlTexture {\n  constructor(texture) {\n    this.target = GL_TARGETS.TEXTURE_2D;\n    this.texture = texture;\n    this.width = -1;\n    this.height = -1;\n    this.type = GL_TYPES.UNSIGNED_BYTE;\n    this.internalFormat = GL_FORMATS.RGBA;\n    this.format = GL_FORMATS.RGBA;\n    this.samplerType = 0;\n  }\n  destroy() {\n  }\n}\n\nexport { GlTexture };\n//# sourceMappingURL=GlTexture.mjs.map\n","\"use strict\";\nconst glUploadBufferImageResource = {\n  id: \"buffer\",\n  upload(source, glTexture, gl) {\n    if (glTexture.width === source.width || glTexture.height === source.height) {\n      gl.texSubImage2D(\n        gl.TEXTURE_2D,\n        0,\n        0,\n        0,\n        source.width,\n        source.height,\n        glTexture.format,\n        glTexture.type,\n        source.resource\n      );\n    } else {\n      gl.texImage2D(\n        glTexture.target,\n        0,\n        glTexture.internalFormat,\n        source.width,\n        source.height,\n        0,\n        glTexture.format,\n        glTexture.type,\n        source.resource\n      );\n    }\n    glTexture.width = source.width;\n    glTexture.height = source.height;\n  }\n};\n\nexport { glUploadBufferImageResource };\n//# sourceMappingURL=glUploadBufferImageResource.mjs.map\n","\"use strict\";\nconst compressedFormatMap = {\n  \"bc1-rgba-unorm\": true,\n  \"bc1-rgba-unorm-srgb\": true,\n  \"bc2-rgba-unorm\": true,\n  \"bc2-rgba-unorm-srgb\": true,\n  \"bc3-rgba-unorm\": true,\n  \"bc3-rgba-unorm-srgb\": true,\n  \"bc4-r-unorm\": true,\n  \"bc4-r-snorm\": true,\n  \"bc5-rg-unorm\": true,\n  \"bc5-rg-snorm\": true,\n  \"bc6h-rgb-ufloat\": true,\n  \"bc6h-rgb-float\": true,\n  \"bc7-rgba-unorm\": true,\n  \"bc7-rgba-unorm-srgb\": true,\n  // ETC2 compressed formats usable if \"texture-compression-etc2\" is both\n  // supported by the device/user agent and enabled in requestDevice.\n  \"etc2-rgb8unorm\": true,\n  \"etc2-rgb8unorm-srgb\": true,\n  \"etc2-rgb8a1unorm\": true,\n  \"etc2-rgb8a1unorm-srgb\": true,\n  \"etc2-rgba8unorm\": true,\n  \"etc2-rgba8unorm-srgb\": true,\n  \"eac-r11unorm\": true,\n  \"eac-r11snorm\": true,\n  \"eac-rg11unorm\": true,\n  \"eac-rg11snorm\": true,\n  // ASTC compressed formats usable if \"texture-compression-astc\" is both\n  // supported by the device/user agent and enabled in requestDevice.\n  \"astc-4x4-unorm\": true,\n  \"astc-4x4-unorm-srgb\": true,\n  \"astc-5x4-unorm\": true,\n  \"astc-5x4-unorm-srgb\": true,\n  \"astc-5x5-unorm\": true,\n  \"astc-5x5-unorm-srgb\": true,\n  \"astc-6x5-unorm\": true,\n  \"astc-6x5-unorm-srgb\": true,\n  \"astc-6x6-unorm\": true,\n  \"astc-6x6-unorm-srgb\": true,\n  \"astc-8x5-unorm\": true,\n  \"astc-8x5-unorm-srgb\": true,\n  \"astc-8x6-unorm\": true,\n  \"astc-8x6-unorm-srgb\": true,\n  \"astc-8x8-unorm\": true,\n  \"astc-8x8-unorm-srgb\": true,\n  \"astc-10x5-unorm\": true,\n  \"astc-10x5-unorm-srgb\": true,\n  \"astc-10x6-unorm\": true,\n  \"astc-10x6-unorm-srgb\": true,\n  \"astc-10x8-unorm\": true,\n  \"astc-10x8-unorm-srgb\": true,\n  \"astc-10x10-unorm\": true,\n  \"astc-10x10-unorm-srgb\": true,\n  \"astc-12x10-unorm\": true,\n  \"astc-12x10-unorm-srgb\": true,\n  \"astc-12x12-unorm\": true,\n  \"astc-12x12-unorm-srgb\": true\n};\nconst glUploadCompressedTextureResource = {\n  id: \"compressed\",\n  upload(source, glTexture, gl) {\n    gl.pixelStorei(gl.UNPACK_ALIGNMENT, 4);\n    let mipWidth = source.pixelWidth;\n    let mipHeight = source.pixelHeight;\n    const compressed = !!compressedFormatMap[source.format];\n    for (let i = 0; i < source.resource.length; i++) {\n      const levelBuffer = source.resource[i];\n      if (compressed) {\n        gl.compressedTexImage2D(\n          gl.TEXTURE_2D,\n          i,\n          glTexture.internalFormat,\n          mipWidth,\n          mipHeight,\n          0,\n          levelBuffer\n        );\n      } else {\n        gl.texImage2D(\n          gl.TEXTURE_2D,\n          i,\n          glTexture.internalFormat,\n          mipWidth,\n          mipHeight,\n          0,\n          glTexture.format,\n          glTexture.type,\n          levelBuffer\n        );\n      }\n      mipWidth = Math.max(mipWidth >> 1, 1);\n      mipHeight = Math.max(mipHeight >> 1, 1);\n    }\n  }\n};\n\nexport { glUploadCompressedTextureResource };\n//# sourceMappingURL=glUploadCompressedTextureResource.mjs.map\n","\"use strict\";\nconst glUploadImageResource = {\n  id: \"image\",\n  upload(source, glTexture, gl, webGLVersion) {\n    const glWidth = glTexture.width;\n    const glHeight = glTexture.height;\n    const textureWidth = source.pixelWidth;\n    const textureHeight = source.pixelHeight;\n    const resourceWidth = source.resourceWidth;\n    const resourceHeight = source.resourceHeight;\n    if (resourceWidth < textureWidth || resourceHeight < textureHeight) {\n      if (glWidth !== textureWidth || glHeight !== textureHeight) {\n        gl.texImage2D(\n          glTexture.target,\n          0,\n          glTexture.internalFormat,\n          textureWidth,\n          textureHeight,\n          0,\n          glTexture.format,\n          glTexture.type,\n          null\n        );\n      }\n      if (webGLVersion === 2) {\n        gl.texSubImage2D(\n          gl.TEXTURE_2D,\n          0,\n          0,\n          0,\n          resourceWidth,\n          resourceHeight,\n          glTexture.format,\n          glTexture.type,\n          source.resource\n        );\n      } else {\n        gl.texSubImage2D(\n          gl.TEXTURE_2D,\n          0,\n          0,\n          0,\n          glTexture.format,\n          glTexture.type,\n          source.resource\n        );\n      }\n    } else if (glWidth === textureWidth && glHeight === textureHeight) {\n      gl.texSubImage2D(\n        gl.TEXTURE_2D,\n        0,\n        0,\n        0,\n        glTexture.format,\n        glTexture.type,\n        source.resource\n      );\n    } else if (webGLVersion === 2) {\n      gl.texImage2D(\n        glTexture.target,\n        0,\n        glTexture.internalFormat,\n        textureWidth,\n        textureHeight,\n        0,\n        glTexture.format,\n        glTexture.type,\n        source.resource\n      );\n    } else {\n      gl.texImage2D(\n        glTexture.target,\n        0,\n        glTexture.internalFormat,\n        glTexture.format,\n        glTexture.type,\n        source.resource\n      );\n    }\n    glTexture.width = textureWidth;\n    glTexture.height = textureHeight;\n  }\n};\n\nexport { glUploadImageResource };\n//# sourceMappingURL=glUploadImageResource.mjs.map\n","import { glUploadImageResource } from './glUploadImageResource.mjs';\n\n\"use strict\";\nconst glUploadVideoResource = {\n  id: \"video\",\n  upload(source, glTexture, gl, webGLVersion) {\n    if (!source.isValid) {\n      gl.texImage2D(\n        glTexture.target,\n        0,\n        glTexture.internalFormat,\n        1,\n        1,\n        0,\n        glTexture.format,\n        glTexture.type,\n        null\n      );\n      return;\n    }\n    glUploadImageResource.upload(source, glTexture, gl, webGLVersion);\n  }\n};\n\nexport { glUploadVideoResource };\n//# sourceMappingURL=glUploadVideoResource.mjs.map\n","\"use strict\";\nconst scaleModeToGlFilter = {\n  linear: 9729,\n  nearest: 9728\n};\nconst mipmapScaleModeToGlFilter = {\n  linear: {\n    linear: 9987,\n    nearest: 9985\n  },\n  nearest: {\n    linear: 9986,\n    nearest: 9984\n  }\n};\nconst wrapModeToGlAddress = {\n  \"clamp-to-edge\": 33071,\n  repeat: 10497,\n  \"mirror-repeat\": 33648\n};\nconst compareModeToGlCompare = {\n  never: 512,\n  less: 513,\n  equal: 514,\n  \"less-equal\": 515,\n  greater: 516,\n  \"not-equal\": 517,\n  \"greater-equal\": 518,\n  always: 519\n};\n\nexport { compareModeToGlCompare, mipmapScaleModeToGlFilter, scaleModeToGlFilter, wrapModeToGlAddress };\n//# sourceMappingURL=pixiToGlMaps.mjs.map\n","import { wrapModeToGlAddress, scaleModeToGlFilter, mipmapScaleModeToGlFilter, compareModeToGlCompare } from './pixiToGlMaps.mjs';\n\n\"use strict\";\nfunction applyStyleParams(style, gl, mipmaps, anisotropicExt, glFunctionName, firstParam, forceClamp, firstCreation) {\n  const castParam = firstParam;\n  if (!firstCreation || style.addressModeU !== \"repeat\" || style.addressModeV !== \"repeat\" || style.addressModeW !== \"repeat\") {\n    const wrapModeS = wrapModeToGlAddress[forceClamp ? \"clamp-to-edge\" : style.addressModeU];\n    const wrapModeT = wrapModeToGlAddress[forceClamp ? \"clamp-to-edge\" : style.addressModeV];\n    const wrapModeR = wrapModeToGlAddress[forceClamp ? \"clamp-to-edge\" : style.addressModeW];\n    gl[glFunctionName](castParam, gl.TEXTURE_WRAP_S, wrapModeS);\n    gl[glFunctionName](castParam, gl.TEXTURE_WRAP_T, wrapModeT);\n    if (gl.TEXTURE_WRAP_R)\n      gl[glFunctionName](castParam, gl.TEXTURE_WRAP_R, wrapModeR);\n  }\n  if (!firstCreation || style.magFilter !== \"linear\") {\n    gl[glFunctionName](castParam, gl.TEXTURE_MAG_FILTER, scaleModeToGlFilter[style.magFilter]);\n  }\n  if (mipmaps) {\n    if (!firstCreation || style.mipmapFilter !== \"linear\") {\n      const glFilterMode = mipmapScaleModeToGlFilter[style.minFilter][style.mipmapFilter];\n      gl[glFunctionName](castParam, gl.TEXTURE_MIN_FILTER, glFilterMode);\n    }\n  } else {\n    gl[glFunctionName](castParam, gl.TEXTURE_MIN_FILTER, scaleModeToGlFilter[style.minFilter]);\n  }\n  if (anisotropicExt && style.maxAnisotropy > 1) {\n    const level = Math.min(style.maxAnisotropy, gl.getParameter(anisotropicExt.MAX_TEXTURE_MAX_ANISOTROPY_EXT));\n    gl[glFunctionName](castParam, anisotropicExt.TEXTURE_MAX_ANISOTROPY_EXT, level);\n  }\n  if (style.compare) {\n    gl[glFunctionName](castParam, gl.TEXTURE_COMPARE_FUNC, compareModeToGlCompare[style.compare]);\n  }\n}\n\nexport { applyStyleParams };\n//# sourceMappingURL=applyStyleParams.mjs.map\n","import { DOMAdapter } from '../../../../environment/adapter.mjs';\nimport { ExtensionType } from '../../../../extensions/Extensions.mjs';\nimport { GCManagedHash } from '../../../../utils/data/GCManagedHash.mjs';\nimport { Texture } from '../../shared/texture/Texture.mjs';\nimport { GlTexture } from './GlTexture.mjs';\nimport { glUploadBufferImageResource } from './uploaders/glUploadBufferImageResource.mjs';\nimport { glUploadCompressedTextureResource } from './uploaders/glUploadCompressedTextureResource.mjs';\nimport { glUploadImageResource } from './uploaders/glUploadImageResource.mjs';\nimport { glUploadVideoResource } from './uploaders/glUploadVideoResource.mjs';\nimport { applyStyleParams } from './utils/applyStyleParams.mjs';\nimport { mapFormatToGlFormat } from './utils/mapFormatToGlFormat.mjs';\nimport { mapFormatToGlInternalFormat } from './utils/mapFormatToGlInternalFormat.mjs';\nimport { mapFormatToGlType } from './utils/mapFormatToGlType.mjs';\nimport './utils/unpremultiplyAlpha.mjs';\n\n\"use strict\";\nconst BYTES_PER_PIXEL = 4;\nclass GlTextureSystem {\n  constructor(renderer) {\n    this._glSamplers = /* @__PURE__ */ Object.create(null);\n    this._boundTextures = [];\n    this._activeTextureLocation = -1;\n    this._boundSamplers = /* @__PURE__ */ Object.create(null);\n    this._uploads = {\n      image: glUploadImageResource,\n      buffer: glUploadBufferImageResource,\n      video: glUploadVideoResource,\n      compressed: glUploadCompressedTextureResource\n    };\n    this._premultiplyAlpha = false;\n    // TODO - separate samplers will be a cool thing to add, but not right now!\n    this._useSeparateSamplers = false;\n    this._renderer = renderer;\n    this._managedTextures = new GCManagedHash({\n      renderer,\n      type: \"resource\",\n      onUnload: this.onSourceUnload.bind(this),\n      name: \"glTexture\"\n    });\n  }\n  /**\n   * @deprecated since 8.15.0\n   */\n  get managedTextures() {\n    return Object.values(this._managedTextures.items);\n  }\n  contextChange(gl) {\n    this._gl = gl;\n    if (!this._mapFormatToInternalFormat) {\n      this._mapFormatToInternalFormat = mapFormatToGlInternalFormat(gl, this._renderer.context.extensions);\n      this._mapFormatToType = mapFormatToGlType(gl);\n      this._mapFormatToFormat = mapFormatToGlFormat(gl);\n    }\n    this._managedTextures.removeAll(true);\n    this._glSamplers = /* @__PURE__ */ Object.create(null);\n    this._boundSamplers = /* @__PURE__ */ Object.create(null);\n    this._premultiplyAlpha = false;\n    for (let i = 0; i < 16; i++) {\n      this.bind(Texture.EMPTY, i);\n    }\n  }\n  /**\n   * Initializes a texture source, if it has already been initialized nothing will happen.\n   * @param source - The texture source to initialize.\n   * @returns The initialized texture source.\n   */\n  initSource(source) {\n    this.bind(source);\n  }\n  bind(texture, location = 0) {\n    const source = texture.source;\n    if (texture) {\n      this.bindSource(source, location);\n      if (this._useSeparateSamplers) {\n        this._bindSampler(source.style, location);\n      }\n    } else {\n      this.bindSource(null, location);\n      if (this._useSeparateSamplers) {\n        this._bindSampler(null, location);\n      }\n    }\n  }\n  bindSource(source, location = 0) {\n    const gl = this._gl;\n    source._gcLastUsed = this._renderer.gc.now;\n    if (this._boundTextures[location] !== source) {\n      this._boundTextures[location] = source;\n      this._activateLocation(location);\n      source || (source = Texture.EMPTY.source);\n      const glTexture = this.getGlSource(source);\n      gl.bindTexture(glTexture.target, glTexture.texture);\n    }\n  }\n  _bindSampler(style, location = 0) {\n    const gl = this._gl;\n    if (!style) {\n      this._boundSamplers[location] = null;\n      gl.bindSampler(location, null);\n      return;\n    }\n    const sampler = this._getGlSampler(style);\n    if (this._boundSamplers[location] !== sampler) {\n      this._boundSamplers[location] = sampler;\n      gl.bindSampler(location, sampler);\n    }\n  }\n  unbind(texture) {\n    const source = texture.source;\n    const boundTextures = this._boundTextures;\n    const gl = this._gl;\n    for (let i = 0; i < boundTextures.length; i++) {\n      if (boundTextures[i] === source) {\n        this._activateLocation(i);\n        const glTexture = this.getGlSource(source);\n        gl.bindTexture(glTexture.target, null);\n        boundTextures[i] = null;\n      }\n    }\n  }\n  _activateLocation(location) {\n    if (this._activeTextureLocation !== location) {\n      this._activeTextureLocation = location;\n      this._gl.activeTexture(this._gl.TEXTURE0 + location);\n    }\n  }\n  _initSource(source) {\n    const gl = this._gl;\n    const glTexture = new GlTexture(gl.createTexture());\n    glTexture.type = this._mapFormatToType[source.format];\n    glTexture.internalFormat = this._mapFormatToInternalFormat[source.format];\n    glTexture.format = this._mapFormatToFormat[source.format];\n    if (source.autoGenerateMipmaps && (this._renderer.context.supports.nonPowOf2mipmaps || source.isPowerOfTwo)) {\n      const biggestDimension = Math.max(source.width, source.height);\n      source.mipLevelCount = Math.floor(Math.log2(biggestDimension)) + 1;\n    }\n    source._gpuData[this._renderer.uid] = glTexture;\n    const added = this._managedTextures.add(source);\n    if (added) {\n      source.on(\"update\", this.onSourceUpdate, this);\n      source.on(\"resize\", this.onSourceUpdate, this);\n      source.on(\"styleChange\", this.onStyleChange, this);\n      source.on(\"updateMipmaps\", this.onUpdateMipmaps, this);\n    }\n    this.onSourceUpdate(source);\n    this.updateStyle(source, false);\n    return glTexture;\n  }\n  onStyleChange(source) {\n    this.updateStyle(source, false);\n  }\n  updateStyle(source, firstCreation) {\n    const gl = this._gl;\n    const glTexture = this.getGlSource(source);\n    gl.bindTexture(gl.TEXTURE_2D, glTexture.texture);\n    this._boundTextures[this._activeTextureLocation] = source;\n    applyStyleParams(\n      source.style,\n      gl,\n      source.mipLevelCount > 1,\n      this._renderer.context.extensions.anisotropicFiltering,\n      \"texParameteri\",\n      gl.TEXTURE_2D,\n      // will force a clamp to edge if the texture is not a power of two\n      !this._renderer.context.supports.nonPowOf2wrapping && !source.isPowerOfTwo,\n      firstCreation\n    );\n  }\n  onSourceUnload(source, contextLost = false) {\n    const glTexture = source._gpuData[this._renderer.uid];\n    if (!glTexture)\n      return;\n    if (!contextLost) {\n      this.unbind(source);\n      this._gl.deleteTexture(glTexture.texture);\n    }\n    source.off(\"update\", this.onSourceUpdate, this);\n    source.off(\"resize\", this.onSourceUpdate, this);\n    source.off(\"styleChange\", this.onStyleChange, this);\n    source.off(\"updateMipmaps\", this.onUpdateMipmaps, this);\n  }\n  onSourceUpdate(source) {\n    const gl = this._gl;\n    const glTexture = this.getGlSource(source);\n    gl.bindTexture(gl.TEXTURE_2D, glTexture.texture);\n    this._boundTextures[this._activeTextureLocation] = source;\n    const premultipliedAlpha = source.alphaMode === \"premultiply-alpha-on-upload\";\n    if (this._premultiplyAlpha !== premultipliedAlpha) {\n      this._premultiplyAlpha = premultipliedAlpha;\n      gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, premultipliedAlpha);\n    }\n    if (this._uploads[source.uploadMethodId]) {\n      this._uploads[source.uploadMethodId].upload(source, glTexture, gl, this._renderer.context.webGLVersion);\n    } else {\n      gl.texImage2D(\n        gl.TEXTURE_2D,\n        0,\n        glTexture.internalFormat,\n        source.pixelWidth,\n        source.pixelHeight,\n        0,\n        glTexture.format,\n        glTexture.type,\n        null\n      );\n    }\n    if (source.autoGenerateMipmaps && source.mipLevelCount > 1) {\n      this.onUpdateMipmaps(source, false);\n    }\n  }\n  onUpdateMipmaps(source, bind = true) {\n    if (bind)\n      this.bindSource(source, 0);\n    const glTexture = this.getGlSource(source);\n    this._gl.generateMipmap(glTexture.target);\n  }\n  _initSampler(style) {\n    const gl = this._gl;\n    const glSampler = this._gl.createSampler();\n    this._glSamplers[style._resourceId] = glSampler;\n    applyStyleParams(\n      style,\n      gl,\n      this._boundTextures[this._activeTextureLocation].mipLevelCount > 1,\n      this._renderer.context.extensions.anisotropicFiltering,\n      \"samplerParameteri\",\n      glSampler,\n      false,\n      true\n    );\n    return this._glSamplers[style._resourceId];\n  }\n  _getGlSampler(sampler) {\n    return this._glSamplers[sampler._resourceId] || this._initSampler(sampler);\n  }\n  getGlSource(source) {\n    source._gcLastUsed = this._renderer.gc.now;\n    return source._gpuData[this._renderer.uid] || this._initSource(source);\n  }\n  generateCanvas(texture) {\n    const { pixels, width, height } = this.getPixels(texture);\n    const canvas = DOMAdapter.get().createCanvas();\n    canvas.width = width;\n    canvas.height = height;\n    const ctx = canvas.getContext(\"2d\");\n    if (ctx) {\n      const imageData = ctx.createImageData(width, height);\n      imageData.data.set(pixels);\n      ctx.putImageData(imageData, 0, 0);\n    }\n    return canvas;\n  }\n  getPixels(texture) {\n    const resolution = texture.source.resolution;\n    const frame = texture.frame;\n    const width = Math.max(Math.round(frame.width * resolution), 1);\n    const height = Math.max(Math.round(frame.height * resolution), 1);\n    const pixels = new Uint8Array(BYTES_PER_PIXEL * width * height);\n    const renderer = this._renderer;\n    const renderTarget = renderer.renderTarget.getRenderTarget(texture);\n    const glRenterTarget = renderer.renderTarget.getGpuRenderTarget(renderTarget);\n    const gl = renderer.gl;\n    gl.bindFramebuffer(gl.FRAMEBUFFER, glRenterTarget.resolveTargetFramebuffer);\n    gl.readPixels(\n      Math.round(frame.x * resolution),\n      Math.round(frame.y * resolution),\n      width,\n      height,\n      gl.RGBA,\n      gl.UNSIGNED_BYTE,\n      pixels\n    );\n    if (false) {\n      unpremultiplyAlpha(pixels);\n    }\n    return { pixels: new Uint8ClampedArray(pixels.buffer), width, height };\n  }\n  destroy() {\n    this._managedTextures.destroy();\n    this._glSamplers = null;\n    this._boundTextures = null;\n    this._boundSamplers = null;\n    this._mapFormatToInternalFormat = null;\n    this._mapFormatToType = null;\n    this._mapFormatToFormat = null;\n    this._uploads = null;\n    this._renderer = null;\n  }\n  resetState() {\n    this._activeTextureLocation = -1;\n    this._boundTextures.fill(Texture.EMPTY.source);\n    this._boundSamplers = /* @__PURE__ */ Object.create(null);\n    const gl = this._gl;\n    this._premultiplyAlpha = false;\n    gl.pixelStorei(gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL, this._premultiplyAlpha);\n  }\n}\n/** @ignore */\nGlTextureSystem.extension = {\n  type: [\n    ExtensionType.WebGLSystem\n  ],\n  name: \"texture\"\n};\n\nexport { GlTextureSystem };\n//# sourceMappingURL=GlTextureSystem.mjs.map\n","import { DOMAdapter } from '../../../../../environment/adapter.mjs';\n\n\"use strict\";\nfunction mapFormatToGlInternalFormat(gl, extensions) {\n  let srgb = {};\n  let bgra8unorm = gl.RGBA;\n  if (!(gl instanceof DOMAdapter.get().getWebGLRenderingContext())) {\n    srgb = {\n      \"rgba8unorm-srgb\": gl.SRGB8_ALPHA8,\n      \"bgra8unorm-srgb\": gl.SRGB8_ALPHA8\n    };\n    bgra8unorm = gl.RGBA8;\n  } else if (extensions.srgb) {\n    srgb = {\n      \"rgba8unorm-srgb\": extensions.srgb.SRGB8_ALPHA8_EXT,\n      \"bgra8unorm-srgb\": extensions.srgb.SRGB8_ALPHA8_EXT\n    };\n  }\n  return {\n    // 8-bit formats\n    r8unorm: gl.R8,\n    r8snorm: gl.R8_SNORM,\n    r8uint: gl.R8UI,\n    r8sint: gl.R8I,\n    // 16-bit formats\n    r16uint: gl.R16UI,\n    r16sint: gl.R16I,\n    r16float: gl.R16F,\n    rg8unorm: gl.RG8,\n    rg8snorm: gl.RG8_SNORM,\n    rg8uint: gl.RG8UI,\n    rg8sint: gl.RG8I,\n    // 32-bit formats\n    r32uint: gl.R32UI,\n    r32sint: gl.R32I,\n    r32float: gl.R32F,\n    rg16uint: gl.RG16UI,\n    rg16sint: gl.RG16I,\n    rg16float: gl.RG16F,\n    rgba8unorm: gl.RGBA,\n    ...srgb,\n    // Packed 32-bit formats\n    rgba8snorm: gl.RGBA8_SNORM,\n    rgba8uint: gl.RGBA8UI,\n    rgba8sint: gl.RGBA8I,\n    bgra8unorm,\n    rgb9e5ufloat: gl.RGB9_E5,\n    rgb10a2unorm: gl.RGB10_A2,\n    rg11b10ufloat: gl.R11F_G11F_B10F,\n    // 64-bit formats\n    rg32uint: gl.RG32UI,\n    rg32sint: gl.RG32I,\n    rg32float: gl.RG32F,\n    rgba16uint: gl.RGBA16UI,\n    rgba16sint: gl.RGBA16I,\n    rgba16float: gl.RGBA16F,\n    // 128-bit formats\n    rgba32uint: gl.RGBA32UI,\n    rgba32sint: gl.RGBA32I,\n    rgba32float: gl.RGBA32F,\n    // Depth/stencil formats\n    stencil8: gl.STENCIL_INDEX8,\n    depth16unorm: gl.DEPTH_COMPONENT16,\n    depth24plus: gl.DEPTH_COMPONENT24,\n    \"depth24plus-stencil8\": gl.DEPTH24_STENCIL8,\n    depth32float: gl.DEPTH_COMPONENT32F,\n    \"depth32float-stencil8\": gl.DEPTH32F_STENCIL8,\n    // Compressed formats\n    ...extensions.s3tc ? {\n      \"bc1-rgba-unorm\": extensions.s3tc.COMPRESSED_RGBA_S3TC_DXT1_EXT,\n      \"bc2-rgba-unorm\": extensions.s3tc.COMPRESSED_RGBA_S3TC_DXT3_EXT,\n      \"bc3-rgba-unorm\": extensions.s3tc.COMPRESSED_RGBA_S3TC_DXT5_EXT\n    } : {},\n    ...extensions.s3tc_sRGB ? {\n      \"bc1-rgba-unorm-srgb\": extensions.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT,\n      \"bc2-rgba-unorm-srgb\": extensions.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT,\n      \"bc3-rgba-unorm-srgb\": extensions.s3tc_sRGB.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT\n    } : {},\n    ...extensions.rgtc ? {\n      \"bc4-r-unorm\": extensions.rgtc.COMPRESSED_RED_RGTC1_EXT,\n      \"bc4-r-snorm\": extensions.rgtc.COMPRESSED_SIGNED_RED_RGTC1_EXT,\n      \"bc5-rg-unorm\": extensions.rgtc.COMPRESSED_RED_GREEN_RGTC2_EXT,\n      \"bc5-rg-snorm\": extensions.rgtc.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT\n    } : {},\n    ...extensions.bptc ? {\n      \"bc6h-rgb-float\": extensions.bptc.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT,\n      \"bc6h-rgb-ufloat\": extensions.bptc.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT,\n      \"bc7-rgba-unorm\": extensions.bptc.COMPRESSED_RGBA_BPTC_UNORM_EXT,\n      \"bc7-rgba-unorm-srgb\": extensions.bptc.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT\n    } : {},\n    ...extensions.etc ? {\n      \"etc2-rgb8unorm\": extensions.etc.COMPRESSED_RGB8_ETC2,\n      \"etc2-rgb8unorm-srgb\": extensions.etc.COMPRESSED_SRGB8_ETC2,\n      \"etc2-rgb8a1unorm\": extensions.etc.COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2,\n      \"etc2-rgb8a1unorm-srgb\": extensions.etc.COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2,\n      \"etc2-rgba8unorm\": extensions.etc.COMPRESSED_RGBA8_ETC2_EAC,\n      \"etc2-rgba8unorm-srgb\": extensions.etc.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC,\n      \"eac-r11unorm\": extensions.etc.COMPRESSED_R11_EAC,\n      // 'eac-r11snorm'\n      \"eac-rg11unorm\": extensions.etc.COMPRESSED_SIGNED_RG11_EAC\n      // 'eac-rg11snorm'\n    } : {},\n    ...extensions.astc ? {\n      \"astc-4x4-unorm\": extensions.astc.COMPRESSED_RGBA_ASTC_4x4_KHR,\n      \"astc-4x4-unorm-srgb\": extensions.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR,\n      \"astc-5x4-unorm\": extensions.astc.COMPRESSED_RGBA_ASTC_5x4_KHR,\n      \"astc-5x4-unorm-srgb\": extensions.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR,\n      \"astc-5x5-unorm\": extensions.astc.COMPRESSED_RGBA_ASTC_5x5_KHR,\n      \"astc-5x5-unorm-srgb\": extensions.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR,\n      \"astc-6x5-unorm\": extensions.astc.COMPRESSED_RGBA_ASTC_6x5_KHR,\n      \"astc-6x5-unorm-srgb\": extensions.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR,\n      \"astc-6x6-unorm\": extensions.astc.COMPRESSED_RGBA_ASTC_6x6_KHR,\n      \"astc-6x6-unorm-srgb\": extensions.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR,\n      \"astc-8x5-unorm\": extensions.astc.COMPRESSED_RGBA_ASTC_8x5_KHR,\n      \"astc-8x5-unorm-srgb\": extensions.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR,\n      \"astc-8x6-unorm\": extensions.astc.COMPRESSED_RGBA_ASTC_8x6_KHR,\n      \"astc-8x6-unorm-srgb\": extensions.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR,\n      \"astc-8x8-unorm\": extensions.astc.COMPRESSED_RGBA_ASTC_8x8_KHR,\n      \"astc-8x8-unorm-srgb\": extensions.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR,\n      \"astc-10x5-unorm\": extensions.astc.COMPRESSED_RGBA_ASTC_10x5_KHR,\n      \"astc-10x5-unorm-srgb\": extensions.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR,\n      \"astc-10x6-unorm\": extensions.astc.COMPRESSED_RGBA_ASTC_10x6_KHR,\n      \"astc-10x6-unorm-srgb\": extensions.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR,\n      \"astc-10x8-unorm\": extensions.astc.COMPRESSED_RGBA_ASTC_10x8_KHR,\n      \"astc-10x8-unorm-srgb\": extensions.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR,\n      \"astc-10x10-unorm\": extensions.astc.COMPRESSED_RGBA_ASTC_10x10_KHR,\n      \"astc-10x10-unorm-srgb\": extensions.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR,\n      \"astc-12x10-unorm\": extensions.astc.COMPRESSED_RGBA_ASTC_12x10_KHR,\n      \"astc-12x10-unorm-srgb\": extensions.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR,\n      \"astc-12x12-unorm\": extensions.astc.COMPRESSED_RGBA_ASTC_12x12_KHR,\n      \"astc-12x12-unorm-srgb\": extensions.astc.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR\n    } : {}\n  };\n}\n\nexport { mapFormatToGlInternalFormat };\n//# sourceMappingURL=mapFormatToGlInternalFormat.mjs.map\n","\"use strict\";\nfunction mapFormatToGlType(gl) {\n  return {\n    // 8-bit formats\n    r8unorm: gl.UNSIGNED_BYTE,\n    r8snorm: gl.BYTE,\n    r8uint: gl.UNSIGNED_BYTE,\n    r8sint: gl.BYTE,\n    // 16-bit formats\n    r16uint: gl.UNSIGNED_SHORT,\n    r16sint: gl.SHORT,\n    r16float: gl.HALF_FLOAT,\n    rg8unorm: gl.UNSIGNED_BYTE,\n    rg8snorm: gl.BYTE,\n    rg8uint: gl.UNSIGNED_BYTE,\n    rg8sint: gl.BYTE,\n    // 32-bit formats\n    r32uint: gl.UNSIGNED_INT,\n    r32sint: gl.INT,\n    r32float: gl.FLOAT,\n    rg16uint: gl.UNSIGNED_SHORT,\n    rg16sint: gl.SHORT,\n    rg16float: gl.HALF_FLOAT,\n    rgba8unorm: gl.UNSIGNED_BYTE,\n    \"rgba8unorm-srgb\": gl.UNSIGNED_BYTE,\n    // Packed 32-bit formats\n    rgba8snorm: gl.BYTE,\n    rgba8uint: gl.UNSIGNED_BYTE,\n    rgba8sint: gl.BYTE,\n    bgra8unorm: gl.UNSIGNED_BYTE,\n    \"bgra8unorm-srgb\": gl.UNSIGNED_BYTE,\n    rgb9e5ufloat: gl.UNSIGNED_INT_5_9_9_9_REV,\n    rgb10a2unorm: gl.UNSIGNED_INT_2_10_10_10_REV,\n    rg11b10ufloat: gl.UNSIGNED_INT_10F_11F_11F_REV,\n    // 64-bit formats\n    rg32uint: gl.UNSIGNED_INT,\n    rg32sint: gl.INT,\n    rg32float: gl.FLOAT,\n    rgba16uint: gl.UNSIGNED_SHORT,\n    rgba16sint: gl.SHORT,\n    rgba16float: gl.HALF_FLOAT,\n    // 128-bit formats\n    rgba32uint: gl.UNSIGNED_INT,\n    rgba32sint: gl.INT,\n    rgba32float: gl.FLOAT,\n    // Depth/stencil formats\n    stencil8: gl.UNSIGNED_BYTE,\n    depth16unorm: gl.UNSIGNED_SHORT,\n    depth24plus: gl.UNSIGNED_INT,\n    \"depth24plus-stencil8\": gl.UNSIGNED_INT_24_8,\n    depth32float: gl.FLOAT,\n    \"depth32float-stencil8\": gl.FLOAT_32_UNSIGNED_INT_24_8_REV\n  };\n}\n\nexport { mapFormatToGlType };\n//# sourceMappingURL=mapFormatToGlType.mjs.map\n","\"use strict\";\nfunction mapFormatToGlFormat(gl) {\n  return {\n    // 8-bit formats\n    r8unorm: gl.RED,\n    r8snorm: gl.RED,\n    r8uint: gl.RED,\n    r8sint: gl.RED,\n    // 16-bit formats\n    r16uint: gl.RED,\n    r16sint: gl.RED,\n    r16float: gl.RED,\n    rg8unorm: gl.RG,\n    rg8snorm: gl.RG,\n    rg8uint: gl.RG,\n    rg8sint: gl.RG,\n    // 32-bit formats\n    r32uint: gl.RED,\n    r32sint: gl.RED,\n    r32float: gl.RED,\n    rg16uint: gl.RG,\n    rg16sint: gl.RG,\n    rg16float: gl.RG,\n    rgba8unorm: gl.RGBA,\n    \"rgba8unorm-srgb\": gl.RGBA,\n    // Packed 32-bit formats\n    rgba8snorm: gl.RGBA,\n    rgba8uint: gl.RGBA,\n    rgba8sint: gl.RGBA,\n    bgra8unorm: gl.RGBA,\n    \"bgra8unorm-srgb\": gl.RGBA,\n    rgb9e5ufloat: gl.RGB,\n    rgb10a2unorm: gl.RGBA,\n    rg11b10ufloat: gl.RGB,\n    // 64-bit formats\n    rg32uint: gl.RG,\n    rg32sint: gl.RG,\n    rg32float: gl.RG,\n    rgba16uint: gl.RGBA,\n    rgba16sint: gl.RGBA,\n    rgba16float: gl.RGBA,\n    // 128-bit formats\n    rgba32uint: gl.RGBA,\n    rgba32sint: gl.RGBA,\n    rgba32float: gl.RGBA,\n    // Depth/stencil formats\n    stencil8: gl.STENCIL_INDEX8,\n    depth16unorm: gl.DEPTH_COMPONENT,\n    depth24plus: gl.DEPTH_COMPONENT,\n    \"depth24plus-stencil8\": gl.DEPTH_STENCIL,\n    depth32float: gl.DEPTH_COMPONENT,\n    \"depth32float-stencil8\": gl.DEPTH_STENCIL\n  };\n}\n\nexport { mapFormatToGlFormat };\n//# sourceMappingURL=mapFormatToGlFormat.mjs.map\n","import { extensions, ExtensionType } from '../../../extensions/Extensions.mjs';\nimport { GlGraphicsAdaptor } from '../../../scene/graphics/gl/GlGraphicsAdaptor.mjs';\nimport { GlMeshAdaptor } from '../../../scene/mesh/gl/GlMeshAdaptor.mjs';\nimport { GlBatchAdaptor } from '../../batcher/gl/GlBatchAdaptor.mjs';\nimport { AbstractRenderer } from '../shared/system/AbstractRenderer.mjs';\nimport { SharedSystems, SharedRenderPipes } from '../shared/system/SharedSystems.mjs';\nimport { RendererType } from '../types.mjs';\nimport { GlBufferSystem } from './buffer/GlBufferSystem.mjs';\nimport { GlContextSystem } from './context/GlContextSystem.mjs';\nimport { GlGeometrySystem } from './geometry/GlGeometrySystem.mjs';\nimport { GlBackBufferSystem } from './GlBackBufferSystem.mjs';\nimport { GlColorMaskSystem } from './GlColorMaskSystem.mjs';\nimport { GlEncoderSystem } from './GlEncoderSystem.mjs';\nimport { GlLimitsSystem } from './GlLimitsSystem.mjs';\nimport { GlStencilSystem } from './GlStencilSystem.mjs';\nimport { GlUboSystem } from './GlUboSystem.mjs';\nimport { GlRenderTargetSystem } from './renderTarget/GlRenderTargetSystem.mjs';\nimport { GlShaderSystem } from './shader/GlShaderSystem.mjs';\nimport { GlUniformGroupSystem } from './shader/GlUniformGroupSystem.mjs';\nimport { GlStateSystem } from './state/GlStateSystem.mjs';\nimport { GlTextureSystem } from './texture/GlTextureSystem.mjs';\n\n\"use strict\";\nconst DefaultWebGLSystems = [\n  ...SharedSystems,\n  GlUboSystem,\n  GlBackBufferSystem,\n  GlContextSystem,\n  GlLimitsSystem,\n  GlBufferSystem,\n  GlTextureSystem,\n  GlRenderTargetSystem,\n  GlGeometrySystem,\n  GlUniformGroupSystem,\n  GlShaderSystem,\n  GlEncoderSystem,\n  GlStateSystem,\n  GlStencilSystem,\n  GlColorMaskSystem\n];\nconst DefaultWebGLPipes = [...SharedRenderPipes];\nconst DefaultWebGLAdapters = [GlBatchAdaptor, GlMeshAdaptor, GlGraphicsAdaptor];\nconst systems = [];\nconst renderPipes = [];\nconst renderPipeAdaptors = [];\nextensions.handleByNamedList(ExtensionType.WebGLSystem, systems);\nextensions.handleByNamedList(ExtensionType.WebGLPipes, renderPipes);\nextensions.handleByNamedList(ExtensionType.WebGLPipesAdaptor, renderPipeAdaptors);\nextensions.add(...DefaultWebGLSystems, ...DefaultWebGLPipes, ...DefaultWebGLAdapters);\nclass WebGLRenderer extends AbstractRenderer {\n  constructor() {\n    const systemConfig = {\n      name: \"webgl\",\n      type: RendererType.WEBGL,\n      systems,\n      renderPipes,\n      renderPipeAdaptors\n    };\n    super(systemConfig);\n  }\n}\n\nexport { WebGLRenderer };\n//# sourceMappingURL=WebGLRenderer.mjs.map\n"],"names":["GlGraphicsAdaptor","contextChange","renderer","uniforms","UniformGroup","uColor","value","Float32Array","type","uTransformMatrix","Matrix","uRound","maxTextures","limits","maxBatchableTextures","glProgram","name","bits","colorBit","generateTextureBatchBit","localUniformBit","roundPixelsBit","this","shader","Shader","resources","localUniforms","batchSamplers","getBatchSamplersUniformGroup","execute","graphicsPipe","renderable","context","customShader","contextSystem","graphicsContext","batcher","instructions","getContextRenderData","groups","globalUniforms","bindGroup","state","set","bind","geometry","batches","i","instructionSize","batch","size","j","textures","count","texture","draw","topology","start","destroy","extension","WebGLPipesAdaptor","GlMeshAdaptor","init","textureBit","_shader","uTexture","Texture","EMPTY","source","textureUniforms","uTextureMatrix","meshPipe","mesh","warn","uSampler","style","textureMatrix","mapCoord","localUniformsBindGroup","encoder","_geometry","GlBatchAdaptor","constructor","_tempState","State","for2d","_didUploadHash","batcherPipe","runners","add","batchPipe","didUpload","uid","updateUniformGroup","uniformGroup","blendMode","BUFFER_TYPE","BUFFER_TYPE2","GlBuffer","buffer","_lastBindBaseLocation","_lastBindCallId","updateID","byteLength","GlBufferSystem","_boundBufferBases","Object","create","_minBaseLocation","_nextBindBaseIndex","_bindCallId","_renderer","_managedBuffers","GCManagedHash","onUnload","onBufferUnload","_gl","gl","destroyAll","_maxBindings","maxUniformBindings","getGlBuffer","_gcLastUsed","gc","now","_gpuData","createGLBuffer","glBuffer","bindBuffer","bindBufferBase","index","UNIFORM_BUFFER","nextBindBase","hasTransformFeedback","freeLocationForBufferBase","freeIndex","getLastBindBaseLocation","loop","nextIndex","curBuf","bindBufferRange","offset","updateBuffer","_updateID","data","drawType","descriptor","usage","STATIC","STATIC_DRAW","DYNAMIC_DRAW","bufferSubData","_updateSize","BYTES_PER_ELEMENT","bufferData","contextLost","removeAll","deleteBuffer","ARRAY_BUFFER","INDEX","ELEMENT_ARRAY_BUFFER","UNIFORM","createBuffer","resetState","WebGLSystem","_GlContextSystem","supports","uint32Indices","uniformBufferObject","vertexArrayObject","srgbTextures","nonPowOf2wrapping","msaa","nonPowOf2mipmaps","extensions","handleContextLost","handleContextRestored","isLost","isContextLost","options","defaultOptions","multiView","canvas","get","createCanvas","width","height","view","initFromContext","alpha","background","premultipliedAlpha","antialias","backBuffer","useBackBuffer","createContext","preferWebGLVersion","stencil","preserveDrawingBuffer","powerPreference","ensureCanvasSize","targetCanvas","Math","max","webGLVersion","getWebGLRenderingContext","getExtensions","validateContext","emit","element","addEventListener","getContext","Error","common","anisotropicFiltering","getExtension","floatTextureLinear","s3tc","s3tc_sRGB","etc","etc1","pvrtc","atc","astc","bptc","rgtc","loseContext","drawBuffers","depthTexture","uint32ElementIndex","floatTexture","textureHalfFloat","textureHalfFloatLinear","vertexAttribDivisorANGLE","srgb","colorBufferFloat","provokeExt","provokingVertexWEBGL","FIRST_VERTEX_CONVENTION_WEBGL","event","preventDefault","_contextLossForced","setTimeout","restoreContext","removeEventListener","useProgram","forceContextLoss","attributes","getContextAttributes","isWebGl2","GlContextSystem","GL_FORMATS","GL_FORMATS2","GL_TARGETS","GL_TARGETS2","GL_TYPES","GL_TYPES2","infoMap","uint8x2","UNSIGNED_BYTE","uint8x4","sint8x2","BYTE","sint8x4","unorm8x2","unorm8x4","snorm8x2","snorm8x4","uint16x2","UNSIGNED_SHORT","uint16x4","sint16x2","SHORT","sint16x4","unorm16x2","unorm16x4","snorm16x2","snorm16x4","float16x2","HALF_FLOAT","float16x4","float32","FLOAT","float32x2","float32x3","float32x4","uint32","UNSIGNED_INT","uint32x2","uint32x3","uint32x4","sint32","INT","sint32x2","sint32x3","sint32x4","getGlTypeFromFormat","format","topologyToGlMap","GlGeometryGpuData","vaoCache","GlGeometrySystem","_activeGeometry","_activeVao","hasVao","hasInstance","_managedGeometries","onGeometryUnload","nativeVaoExtension","createVertexArray","createVertexArrayOES","bindVertexArray","vao","bindVertexArrayOES","deleteVertexArray","deleteVertexArrayOES","nativeInstancedExtension","drawArraysInstanced","a","b","c","d","drawArraysInstancedANGLE","drawElementsInstanced","e","drawElementsInstancedANGLE","vertexAttribDivisor","program","getVao","updateBuffers","unbind","bufferSystem","buffers","length","checkCompatibility","geometryAttributes","shaderAttributes","_attributeData","getSignature","attribs","strings","push","location","join","_key","initGeometryVao","_incRefCount","_getProgramData","signature","gpuData","vaoObjectHash","ensureAttributes","activateVao","indexBuffer","lastBuffer","attribute","programAttrib","enableVertexAttribArray","attributeInfo","getAttributeInfoFromFormat","substring","vertexAttribIPointer","stride","vertexAttribPointer","normalised","instance","divisor","instanceCount","glTopology","byteSize","glType","drawElements","getSize","drawArrays","bigTriangleGeometry","Geometry","aPosition","_GlBackBufferSystem","_useBackBufferThisRender","_antialias","_state","bigTriangleProgram","GlProgram","vertex","fragment","_bigTriangleShader","WHITE","renderStart","renderTarget","getRenderTarget","target","isRoot","renderTarget2","_targetTexture","colorTexture","_getBackBufferTexture","renderEnd","_presentBackBuffer","finishRenderPass","_backBufferTexture","targetSourceTexture","TextureSource","resolution","_resolution","resize","priority","GlBackBufferSystem","GlColorMaskSystem","_colorMaskCache","setMask","colorMask","GlEncoderSystem","commandFinished","Promise","resolve","setGeometry","skipSync","_activeProgram","GlLimitsSystem","getParameter","MAX_TEXTURE_IMAGE_UNITS","checkMaxIfStatementsInShader","MAX_UNIFORM_BUFFER_BINDINGS","GlStencilSystem","_stencilCache","enabled","stencilReference","stencilMode","NONE","_renderTargetStencilState","onRenderTargetChange","_comparisonFuncMapping","always","ALWAYS","never","NEVER","equal","EQUAL","NOTEQUAL","less","LESS","LEQUAL","greater","GREATER","GEQUAL","_stencilOpsMapping","keep","KEEP","zero","ZERO","replace","REPLACE","invert","INVERT","INCR","DECR","INCR_WRAP","DECR_WRAP","_activeRenderTarget","stencilState","DISABLED","setStencilMode","mode","GpuStencilModesToPixi","enable","STENCIL_TEST","stencilFunc","stencilBack","compare","stencilOp","passOp","disable","WGSL_TO_STD40_SIZE","f32","i32","createUboElementsSTD40","uniformData","uboElements","map","uboElement","boundary","curOffset","ceil","generateArraySyncSTD40","offsetToAdd","rowSize","elementSize","remainder","indexOf","createUboSyncFunctionSTD40","createUboSyncFunction","uboSyncFunctions","GlUboSystem","UboSystem","super","createUboElements","generateUboSync","GlRenderTarget","msaaRenderBuffer","GlRenderTargetAdaptor","_clearColorCache","_viewPortCache","Rectangle","renderTargetSystem","_renderTargetSystem","_drawBuffersCache","Array","from","_","COLOR_ATTACHMENT0","copyToTexture","sourceRenderSurfaceTexture","destinationTexture","originSrc","originDest","glRenderTarget","getGpuRenderTarget","bindFramebuffer","FRAMEBUFFER","resolveTargetFramebuffer","copyTexSubImage2D","TEXTURE_2D","x","y","startRenderPass","clear","clearColor","viewport","gpuRenderTarget","viewPortY","pixelHeight","colorTextures","forEach","framebuffer","_setDrawBuffers","viewPortCache","depthStencilRenderBuffer","depth","_initStencil","READ_FRAMEBUFFER","blitFramebuffer","COLOR_BUFFER_BIT","NEAREST","initGpuRenderTarget","CanvasSource","resource","_initColor","destroyGpuRenderTarget","deleteFramebuffer","deleteRenderbuffer","renderBuffer","_renderTarget","ALL","COLOR","defaultClearColor","clearColorCache","clearColorArray","resizeGpuRenderTarget","_resizeColor","_resizeStencil","createFramebuffer","pixelWidth","bindSource","glTexture","getGlSource","framebufferTexture2D","viewFramebuffer","createRenderbuffer","source2","glInternalFormat","internalFormat","bindRenderbuffer","RENDERBUFFER","renderbufferStorageMultisample","framebufferRenderbuffer","DEPTH_STENCIL_ATTACHMENT","DEPTH24_STENCIL8","renderbufferStorage","DEPTH_STENCIL","prerender","test","postrender","contextCanvas","canvasSource","context2D","drawImage","bufferArray","ext","drawBuffersWEBGL","GlRenderTargetSystem","RenderTargetSystem","adaptor","GlProgramData","uniformGroups","uniformDirtyGroups","uniformBlockBindings","compileShader","src","createShader","shaderSource","booleanArray","array","defaultValue","Int32Array","Uint32Array","GL_TABLE","GL_TO_GLSL_TYPES","FLOAT_VEC2","FLOAT_VEC3","FLOAT_VEC4","INT_VEC2","INT_VEC3","INT_VEC4","UNSIGNED_INT_VEC2","UNSIGNED_INT_VEC3","UNSIGNED_INT_VEC4","BOOL","BOOL_VEC2","BOOL_VEC3","BOOL_VEC4","FLOAT_MAT2","FLOAT_MAT3","FLOAT_MAT4","SAMPLER_2D","INT_SAMPLER_2D","UNSIGNED_INT_SAMPLER_2D","SAMPLER_CUBE","INT_SAMPLER_CUBE","UNSIGNED_INT_SAMPLER_CUBE","SAMPLER_2D_ARRAY","INT_SAMPLER_2D_ARRAY","UNSIGNED_INT_SAMPLER_2D_ARRAY","GLSL_TO_VERTEX_TYPES","float","vec2","vec3","vec4","int","ivec2","ivec3","ivec4","uint","uvec2","uvec3","uvec4","bool","bvec2","bvec3","bvec4","mapType","typeNames","keys","tn","mapGlToVertexFormat","typeValue","logPrettyShaderError","shaderSrc","getShaderSource","split","line","shaderLog","getShaderInfoLog","splitShader","dedupe","lineNumbers","parseFloat","filter","n","logArgs","number","fragmentSourceToLog","console","error","groupCollapsed","groupEnd","defaultSyncData","textureCount","blockIndex","GlShaderSystem","_programDataHash","_shaderSyncFunctions","_setProgram","syncFunction","_generateShaderSync","transformFeedbackVaryings","bindUniformBlock","programData","isBufferResource","_bufferResource","ubo","boundLocation","uniformBlockIndex","_uniformBlockData","uniformBlockBinding","_createProgramData","key","glVertShader","VERTEX_SHADER","glFragShader","FRAGMENT_SHADER","webGLProgram","createProgram","attachShader","names","bufferMode","SEPARATE_ATTRIBS","INTERLEAVED_ATTRIBS","linkProgram","getProgramParameter","LINK_STATUS","vertexShader","fragmentShader","getShaderParameter","COMPILE_STATUS","getProgramInfoLog","logProgramError","sortAttributes","totalAttributes","ACTIVE_ATTRIBUTES","attribData","getActiveAttrib","startsWith","sort","bindAttribLocation","getAttribLocation","extractAttributesFromGlProgram","_uniformData","totalUniforms","ACTIVE_UNIFORMS","getActiveUniform","isArray","match","getUniformData","ACTIVE_UNIFORM_BLOCKS","uniformBlocks","totalUniformsBlocks","getActiveUniformBlockName","getUniformBlockIndex","getActiveUniformBlockParameter","UNIFORM_BLOCK_DATA_SIZE","getUboData","deleteShader","getUniformLocation","generateProgram","shaderSystem","funcFragments","headerFragments","addedTextreSystem","group","resName","_uniformBindMap","Number","BufferResource","uniformName","uniform1i","functionSource","Function","generateShaderSyncCode","UNIFORM_TO_SINGLE_SETTERS","u32","UNIFORM_TO_ARRAY_SETTERS","GlUniformGroupSystem","_cache","_uniformGroupSyncHash","syncData","isStatic","_dirtyId","_getUniformSyncFunction","syncFunc","_signature","_createUniformSyncFunction","uniformGroupSyncHash","id","_getSignature","_generateUniformsSync","uniform","uniformStructures","parsed","uniformParsers","parser","template","generateUniformsSync","preFix","_GlStateSystem","_invertFrontFace","stateId","polygonOffset","_blendEq","setBlend","setOffset","setCullFace","setDepthTest","setFrontFace","setDepthMask","checks","defaultState","_cullFace","_frontFace","_frontFaceDirty","blendModesMap","blendMap","normal","ONE","ONE_MINUS_SRC_ALPHA","multiply","DST_COLOR","screen","ONE_MINUS_SRC_COLOR","none","SRC_ALPHA","erase","min","MIN_EXT","MAX_EXT","MIN","MAX","mapWebGLBlendModesToPixi","diff","call","forceState","_updateCheck","_checkBlendMode","BLEND","_checkPolygonOffset","POLYGON_OFFSET_FILL","DEPTH_TEST","depthMask","CULL_FACE","faceMode","_glFrontFace","frontFace","setBlendMode","blendFunc","blendFuncSeparate","blendEquationSeparate","FUNC_ADD","setPolygonOffset","scale","CCW","pixelStorei","UNPACK_FLIP_Y_WEBGL","func","splice","system","GlStateSystem","GlTexture","RGBA","samplerType","glUploadBufferImageResource","upload","texSubImage2D","texImage2D","compressedFormatMap","glUploadCompressedTextureResource","UNPACK_ALIGNMENT","mipWidth","mipHeight","compressed","levelBuffer","compressedTexImage2D","glUploadImageResource","glWidth","glHeight","textureWidth","textureHeight","resourceWidth","resourceHeight","glUploadVideoResource","isValid","scaleModeToGlFilter","linear","nearest","mipmapScaleModeToGlFilter","wrapModeToGlAddress","repeat","compareModeToGlCompare","applyStyleParams","mipmaps","anisotropicExt","glFunctionName","firstParam","forceClamp","firstCreation","castParam","addressModeU","addressModeV","addressModeW","wrapModeS","wrapModeT","wrapModeR","TEXTURE_WRAP_S","TEXTURE_WRAP_T","TEXTURE_WRAP_R","magFilter","TEXTURE_MAG_FILTER","mipmapFilter","glFilterMode","minFilter","TEXTURE_MIN_FILTER","maxAnisotropy","level","MAX_TEXTURE_MAX_ANISOTROPY_EXT","TEXTURE_MAX_ANISOTROPY_EXT","TEXTURE_COMPARE_FUNC","GlTextureSystem","_glSamplers","_boundTextures","_activeTextureLocation","_boundSamplers","_uploads","image","video","_premultiplyAlpha","_useSeparateSamplers","_managedTextures","onSourceUnload","managedTextures","values","items","_mapFormatToInternalFormat","bgra8unorm","SRGB8_ALPHA8_EXT","SRGB8_ALPHA8","RGBA8","r8unorm","R8","r8snorm","R8_SNORM","r8uint","R8UI","r8sint","R8I","r16uint","R16UI","r16sint","R16I","r16float","R16F","rg8unorm","RG8","rg8snorm","RG8_SNORM","rg8uint","RG8UI","rg8sint","RG8I","r32uint","R32UI","r32sint","R32I","r32float","R32F","rg16uint","RG16UI","rg16sint","RG16I","rg16float","RG16F","rgba8unorm","rgba8snorm","RGBA8_SNORM","rgba8uint","RGBA8UI","rgba8sint","RGBA8I","rgb9e5ufloat","RGB9_E5","rgb10a2unorm","RGB10_A2","rg11b10ufloat","R11F_G11F_B10F","rg32uint","RG32UI","rg32sint","RG32I","rg32float","RG32F","rgba16uint","RGBA16UI","rgba16sint","RGBA16I","rgba16float","RGBA16F","rgba32uint","RGBA32UI","rgba32sint","RGBA32I","rgba32float","RGBA32F","stencil8","STENCIL_INDEX8","depth16unorm","DEPTH_COMPONENT16","depth24plus","DEPTH_COMPONENT24","depth32float","DEPTH_COMPONENT32F","DEPTH32F_STENCIL8","COMPRESSED_RGBA_S3TC_DXT1_EXT","COMPRESSED_RGBA_S3TC_DXT3_EXT","COMPRESSED_RGBA_S3TC_DXT5_EXT","COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT","COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT","COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT","COMPRESSED_RED_RGTC1_EXT","COMPRESSED_SIGNED_RED_RGTC1_EXT","COMPRESSED_RED_GREEN_RGTC2_EXT","COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT","COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT","COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT","COMPRESSED_RGBA_BPTC_UNORM_EXT","COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT","COMPRESSED_RGB8_ETC2","COMPRESSED_SRGB8_ETC2","COMPRESSED_RGB8_PUNCHTHROUGH_ALPHA1_ETC2","COMPRESSED_SRGB8_PUNCHTHROUGH_ALPHA1_ETC2","COMPRESSED_RGBA8_ETC2_EAC","COMPRESSED_SRGB8_ALPHA8_ETC2_EAC","COMPRESSED_R11_EAC","COMPRESSED_SIGNED_RG11_EAC","COMPRESSED_RGBA_ASTC_4x4_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR","COMPRESSED_RGBA_ASTC_5x4_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR","COMPRESSED_RGBA_ASTC_5x5_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR","COMPRESSED_RGBA_ASTC_6x5_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR","COMPRESSED_RGBA_ASTC_6x6_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR","COMPRESSED_RGBA_ASTC_8x5_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR","COMPRESSED_RGBA_ASTC_8x6_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR","COMPRESSED_RGBA_ASTC_8x8_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR","COMPRESSED_RGBA_ASTC_10x5_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR","COMPRESSED_RGBA_ASTC_10x6_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR","COMPRESSED_RGBA_ASTC_10x8_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR","COMPRESSED_RGBA_ASTC_10x10_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR","COMPRESSED_RGBA_ASTC_12x10_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR","COMPRESSED_RGBA_ASTC_12x12_KHR","COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR","mapFormatToGlInternalFormat","_mapFormatToType","UNSIGNED_INT_5_9_9_9_REV","UNSIGNED_INT_2_10_10_10_REV","UNSIGNED_INT_10F_11F_11F_REV","UNSIGNED_INT_24_8","FLOAT_32_UNSIGNED_INT_24_8_REV","mapFormatToGlType","_mapFormatToFormat","RED","RG","RGB","DEPTH_COMPONENT","mapFormatToGlFormat","initSource","_bindSampler","_activateLocation","bindTexture","bindSampler","sampler","_getGlSampler","boundTextures","activeTexture","TEXTURE0","_initSource","createTexture","autoGenerateMipmaps","isPowerOfTwo","biggestDimension","mipLevelCount","floor","log2","on","onSourceUpdate","onStyleChange","onUpdateMipmaps","updateStyle","deleteTexture","off","alphaMode","UNPACK_PREMULTIPLY_ALPHA_WEBGL","uploadMethodId","generateMipmap","_initSampler","glSampler","createSampler","_resourceId","generateCanvas","pixels","getPixels","ctx","imageData","createImageData","putImageData","frame","round","Uint8Array","glRenterTarget","readPixels","Uint8ClampedArray","fill","DefaultWebGLSystems","SharedSystems","DefaultWebGLPipes","DefaultWebGLAdapters","systems","renderPipes","renderPipeAdaptors","handleByNamedList","WebGLPipes","WebGLRenderer","AbstractRenderer","WEBGL"],"ignoreList":[],"sourceRoot":""}